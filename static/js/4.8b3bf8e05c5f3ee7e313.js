webpackJsonp([4],{dc43:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("r5kb"),_=a("N+h9"),s={name:"report",data:function(){return{item:"",order:"",pay:"",exportTicket:"",importTicket:"",bill:"",incomeTotal:0,selectedDate:(new Date).toISOString().substr(0,10),money:""}},computed:{selectedMonth:function(){return new Date(this.selectedDate).getMonth()+1+"/"+new Date(this.selectedDate).getFullYear()}},methods:{filterData:function(t,e,a){if(t)return t.filter(function(t){return t[e]==a})||[]},sum:function(t,e,a){return this.filterData(t,e,a).reduce(function(t,e){return t+ +e.total},0).toFixed(5)},fetchMoney:function(){var t=this,e=new Date(this.selectedDate).getMonth()+"_"+new Date(this.selectedDate).getFullYear();n.a.setCollection("money").get(e,function(e){t.money=e})}},created:function(){var t=this;n.a.setFirebaseDB(_.a),n.a.setCollection("orders").setOrderBy("created_time","desc").getAllRealTime(function(e){return t.order=e}),n.a.setCollection("bills").setOrderBy("created_time","desc").getAllRealTime(function(e){return t.bill=e}),n.a.setCollection("ImportBill").setOrderBy("created_time").getAllRealTime(function(e){return t.pay=e}),n.a.setCollection("tickets").setOrderBy("created_time").getAllRealTime(function(e){return t.exportTicket=e}),n.a.setCollection("ImportTicket").setOrderBy("created_time").getAllRealTime(function(e){return t.importTicket=e}),n.a.setCollection("items").setOrderBy("created_time").getAllRealTime(function(e){return t.item=e});var e=new Date(this.selectedDate).getMonth()+"_"+new Date(this.selectedDate).getFullYear();n.a.setCollection("money").get(e,function(e){t.money=e})}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:"tab-content mt-1"},[a("div",{staticClass:"container tab-pane active",attrs:{id:"menu1"}},[a("h4",[t._v("Order count: "+t._s(t.order.length))]),t._v(" "),a("h5",[t._v("Completed order: "+t._s(t.filterData(t.order,"is_done",!0).length))]),t._v(" "),a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.filterData(t.order,"is_done",!0),function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.is_done?"Done":"Pending"))])])}))]),t._v(" "),a("h5",[t._v("Pending: "+t._s(t.filterData(t.order,"is_done",!1).length))]),t._v(" "),a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",t._l(t.filterData(t.order,"is_done",!1),function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.is_done?"Done":"Pending"))])])}))])]),t._v(" "),a("div",{staticClass:"container tab-pane",attrs:{id:"menu2"}},[a("h4",[t._v("Completed bill count: "+t._s(t.filterData(t.bill,"is_done",!0).length))]),t._v(" "),a("h5",[t._v("Total: "+t._s(t.sum(t.bill,"is_done",!0)))]),t._v(" "),a("table",{staticClass:"table"},[t._m(3),t._v(" "),a("tbody",t._l(t.filterData(t.bill,"is_done",!0),function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.total))]),t._v(" "),a("td",[t._v(t._s(e.is_done?"Done":"Pending"))])])}))]),t._v(" "),a("h4",[t._v("Incompleted bill count: "+t._s(t.filterData(t.bill,"is_done",!1).length))]),t._v(" "),a("h5",[t._v("Total: "+t._s(t.sum(t.bill,"is_done",!1))+" ")]),t._v(" "),a("table",{staticClass:"table"},[t._m(4),t._v(" "),a("tbody",t._l(t.filterData(t.bill,"is_done",!1),function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.total))]),t._v(" "),a("td",[t._v(t._s(e.is_done?"Done":"Pending"))])])}))])]),t._v(" "),a("div",{staticClass:"container tab-pane",attrs:{id:"menu3"}},[t._v("\n      "+t._s(t.pay)+"\n      "),a("h4",[t._v("Pay: "+t._s(t.pay.length))])]),t._v(" "),a("div",{staticClass:"container tab-pane",attrs:{id:"menu4"}},[a("h4",[t._v("Export")]),t._v(" "),a("table",{staticClass:"table"},[t._m(5),t._v(" "),a("tbody",t._l(t.exportTicket,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.is_confirmed?"Done":"Pending"))])])}))]),t._v(" "),a("h4",[t._v("Import")]),t._v(" "),a("table",{staticClass:"table"},[t._m(6),t._v(" "),a("tbody",t._l(t.importTicket,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(new Date(e.created_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.is_confirmed?"Done":"Pending"))])])}))])]),t._v(" "),a("div",{staticClass:"container tab-pane",attrs:{id:"menu5"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:""}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDate,expression:"selectedDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.selectedDate},on:{change:function(e){t.fetchMoney()},input:function(e){e.target.composing||(t.selectedDate=e.target.value)}}})]),t._v(" "),a("h5",[t._v("Điểm hòa vốn tháng "+t._s(t.selectedMonth)+": "+t._s(new Date(t.money.time).toUTCString()))]),t._v(" "),a("h5",[t._v("Quỹ tiền hiện có: "+t._s(t.money.money))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#menu1"}},[t._v("Order report")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu2"}},[t._v("Income report")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu3"}},[t._v("In/out report")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu4"}},[t._v("Export/inport")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu5"}},[t._v("Summary")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Total")]),t._v(" "),a("th",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Total")]),t._v(" "),a("th",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Status")])])}]};var r=a("VU/8")(s,i,!1,function(t){a("liPp")},null,null);e.default=r.exports},liPp:function(t,e){}});
//# sourceMappingURL=4.8b3bf8e05c5f3ee7e313.js.map