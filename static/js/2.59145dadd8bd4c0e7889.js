webpackJsonp([2],{TC1f:function(t,e){},WdvJ:function(t,e,s){"use strict";var i=s("woOf"),o=s.n(i),n=s("Dd8w"),a=s.n(n),c=s("r5kb"),l=a()({incomePerEmployee:function(t,e){if(!this.checkRequiredProperty())return this.getWithOrderBy("employeeId",t,e),this},incomePerStore:function(t,e){if(!this.checkRequiredProperty())return this.getWithOrderBy("storeId",t,e),this},getItems:function(t){if(!this.checkRequiredProperty())return this.getAll(t),this},getCustomer:function(t,e,s){var i=this,o=this;if(this.setOrderBy("customerId"),!this.checkRequiredProperty())return this.firebaseDB.collection(this.collection).where("customerId","==",t).get().then(function(t){docs.empty?(s(t),o.noData()):e(t[0].data())}).catch(function(t){s(t),i.error(t)}),this},getAllCustomers:function(t){if(!this.checkRequiredProperty())return this.getAll(t),this},getTicketStatus:function(t,e){this.firebaseDB.collection(this.collection).doc(t).update({status:null})},createItemWithDiscount:function(t,e){this.firebaseDB.collection(this.collection).doc(e).update({discountType:t.type,discountValue:t.value})},createComboDeal:function(t,e){for(var s=arguments.length,i=Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];var n=new(Function.prototype.bind.apply(ComboModel,[null].concat([e],i)));this.create(n,t)},updateBill:function(t,e){this.firebaseDB.collection(this.collection).doc(t).update(e)},create:function(t,e,s){var i=this,n=o()({},t);return console.log(n),this.firebaseDB.collection(this.collection).add(n).then(function(t){return e(t.id)}).catch(function(t){s(t),i.error(t)}),this},getAll:function(t){var e=this;return this.firebaseDB.collection(this.collection).orderBy(this.orderBy).get().then(function(e){if(!e.empty){var s=[];e.forEach(function(t){s.push(t.data())}),t(s)}}).catch(function(t){return e.error(t)}),this},getWithOrderBy:function(t,e,s){var i=this,o=this;this.minTime&&this.maxTime?this.firebaseDB.collection(this.collection).where(t,"==",e).where("createdTime",">",this.minTime).where("createdTime","<",this.maxTime).orderBy(this.orderBy).get().then(function(t){if(t.empty)o.noData();else{var e=[];t.forEach(function(t){e.push(t.data())}),s(e)}}).catch(function(t){return i.error(t)}):this.firebaseDB.collection(this.collection).where(t,"==",e).orderBy(this.orderBy).get().then(function(t){if(t.empty)o.noData();else{var e=[];t.forEach(function(t){e.push(t.data())}),s(e)}}).catch(function(t){return i.error(t)})}},c.a);e.a=l},s93z:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("WdvJ");var i=s("r5kb"),o=s("N+h9"),n=s("Zrlr"),a=s.n(n),c=s("yp89"),l=function t(e){a()(this,t),this.id=Object(c.a)(),this.name=e.name,this.items=e.items,this.created_time=Date.now(),this.price=+e.price,this.discount_percent=+e.discount_percent>100?100:+e.discount_percent||0,this.discount_value=+e.discount_value>this.price?this.price:+e.discount_value||0,this.desc=e.desc,this.type="combo"},r=function t(e){a()(this,t),this.id=Object(c.a)(),this.name=e.name,this.stock=+e.stock,this.price=+e.price,this.desc=e.desc,this.created_time=Date.now(),this.type="item"},u=function t(e){a()(this,t),this.id=Object(c.a)(),this.start_time=new Date(e.start_time).getTime(),this.end_time=new Date(e.end_time).getTime(),this.item_id=e.item_id,this.discount_percent=+e.percent,this.discount_value=+e.value},d={name:"sale",data:function(){return{selectedItem:"",item:{name:"",price:"",stock:"",discount_percent:"",discount_value:""},users:[],reports:[],items:"",combo:{name:"",desc:"",price:"",items:[]},discount:{start_time:null,end_time:null,percent:null,value:null,item_id:null},discountAll:{start_time:(new Date).toISOString().substr(0,10),end_time:null,discount_percent:null,discount_value:null},itemDiscounts:[],discountedAll:{}}},methods:{addDiscountAll:function(){this.discountAll.start_time=new Date(this.discountAll.start_time).getTime(),this.discountAll.end_time=new Date(this.discountAll.end_time).getTime(),i.a.setCollection("discountAll").create(this.discountAll,function(t){return console.log("discount all added")})},addDiscount:function(){this.discount.item_id=this.selectedItem.id;var t=new u(this.discount);console.log(t),i.a.setCollection("discount").create(t,function(t){return console.log(t)}),this.reset()},fetchItemDiscount:function(){var t=this;i.a.setCollection("discount").getWithCondition([{field:"item_id",op:"==",value:this.selectedItem.id}],function(e){"None"!=e&&(t.itemDiscounts=e)})},cvDate:function(t){return t.end_time<Date.now()?"Ended":new Date(t.start_time).toLocaleDateString()+" - "+new Date(t.end_time).toLocaleDateString()},add:function(){var t=new r(this.item);i.a.setFirebaseDB(o.a).setCollection("items").create(t,function(t){return console.log(t)},function(t){return console.log(t)}),this.reset()},reset:function(){this.item={name:"",price:"",stock:"",discount_percent:"",discount_value:""},this.combo={name:"",stock:"",price:"",items:[],discount_percent:"",discount_value:""},this.discount={start_time:null,end_time:null,percent:null,value:null,item_id:null},this.selectedItem=""},addCombo:function(){var t=new l(this.combo);console.log(t),i.a.setCollection("combo").create(t,function(t){return console.log(t)},function(t){return console.log(t)}),this.reset()}},created:function(){var t=this;i.a.setFirebaseDB(o.a),i.a.setCollection("items").setOrderBy("created_time").getAllRealTime(function(e){t.items=e,console.log(e)}),i.a.setCollection("discountAll").getWithCondition([{field:"end_time",op:">",value:Date.now()}],function(e){e&&(t.discountedAll=e[0])})},mounted:function(){var t=this;fetch("https://jsonplaceholder.typicode.com/users").then(function(t){return t.json()}).then(function(e){return t.users=e})}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"container tab-pane fade",attrs:{id:"menu5"}},[s("h5",[t._v("Discount all:")]),t._v(" "),s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item list-group-item-action list-group-item-light"},[t._v("Discount: "+t._s(t.discountedAll.discount_percent+"%"||"0%")+" ~ "+t._s(t.discountedAll.discount_value||0)+" --- Time: "+t._s(t.cvDate(t.discountedAll)))])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Start Time")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountAll.start_time,expression:"discountAll.start_time"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.discountAll.start_time},on:{input:function(e){e.target.composing||t.$set(t.discountAll,"start_time",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("End Time")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountAll.end_time,expression:"discountAll.end_time"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.discountAll.end_time},on:{input:function(e){e.target.composing||t.$set(t.discountAll,"end_time",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Discount percent")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountAll.discount_percent,expression:"discountAll.discount_percent"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.discountAll.discount_percent},on:{input:function(e){e.target.composing||t.$set(t.discountAll,"discount_percent",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Discount value")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountAll.discount_value,expression:"discountAll.discount_value"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.discountAll.discount_value},on:{input:function(e){e.target.composing||t.$set(t.discountAll,"discount_value",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label",attrs:{for:"singlebutton"}}),t._v(" "),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-success",attrs:{id:"singlebutton",name:"singlebutton"},on:{click:function(e){t.addDiscountAll()}}},[t._v("Add discount")])])])]),t._v(" "),s("div",{staticClass:"container tab-pane fade",attrs:{id:"menu4"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Item id")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedItem,expression:"selectedItem"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedItem=e.target.multiple?s:s[0]},function(e){t.fetchItemDiscount()}]}},t._l(t.items,function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name)+" - Price: "+t._s(e.price))])}))])]),t._v(" "),t.itemDiscounts.length?s("div",{staticClass:"form-group"},[s("h5",[t._v("Discount list:")]),t._v(" "),t._l(t.itemDiscounts,function(e,i){return s("ul",{key:i,staticClass:"list-group"},[s("li",{staticClass:"list-group-item list-group-item-action list-group-item-light"},[t._v("Discount: "+t._s(e.discount_percent+"%"||"0%")+" ~ "+t._s(e.discount_value||0)+" --- Time: "+t._s(t.cvDate(e)))])])})],2):t._e(),t._v(" "),t.selectedItem?s("div",[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Start Time")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discount.start_time,expression:"discount.start_time"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.discount.start_time},on:{input:function(e){e.target.composing||t.$set(t.discount,"start_time",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("End Time")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discount.end_time,expression:"discount.end_time"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.discount.end_time},on:{input:function(e){e.target.composing||t.$set(t.discount,"end_time",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Discount percent")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discount.percent,expression:"discount.percent"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.discount.percent},on:{input:function(e){e.target.composing||t.$set(t.discount,"percent",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Discount value")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.discount.value,expression:"discount.value"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:t.selectedItem.price},domProps:{value:t.discount.value},on:{input:function(e){e.target.composing||t.$set(t.discount,"value",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label",attrs:{for:"singlebutton"}}),t._v(" "),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-success",attrs:{id:"singlebutton",name:"singlebutton"},on:{click:function(e){t.addDiscount()}}},[t._v("Add discount")])])])]):t._e()]),t._v(" "),s("div",{staticClass:"container tab-pane active",attrs:{id:"home"}},[s("br"),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Product name")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"text",placeholder:""},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Price - unit")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.price,expression:"item.price"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"number",placeholder:""},domProps:{value:t.item.price},on:{input:function(e){e.target.composing||t.$set(t.item,"price",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("stock")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.stock,expression:"item.stock"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"number",placeholder:""},domProps:{value:t.item.stock},on:{input:function(e){e.target.composing||t.$set(t.item,"stock",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Description")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.item.desc,expression:"item.desc"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"text",placeholder:""},domProps:{value:t.item.desc},on:{input:function(e){e.target.composing||t.$set(t.item,"desc",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label",attrs:{for:"singlebutton"}}),t._v(" "),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-success",attrs:{id:"singlebutton",name:"singlebutton"},on:{click:function(e){t.add()}}},[t._v("add")])])])]),t._v(" "),s("div",{staticClass:"container tab-pane fade",attrs:{id:"menu1"}},[s("br"),t._v(" "),s("ul",{staticClass:"list-group"},t._l(t.users,function(e){return s("li",{key:e.id,staticClass:"list-group-item"},[t._v(t._s(e.name))])}))]),t._v(" "),s("div",{staticClass:"container tab-pane fade",attrs:{id:"menu2"}},[s("br"),t._v(" "),s("table",{staticClass:"table"},[t._m(1),t._v(" "),s("tbody",t._l(t.reports,function(e,i){return s("tr",{key:i},[s("th",{attrs:{scope:"row"}},[t._v(t._s(i))]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.price))])])}))])]),t._v(" "),s("div",{staticClass:"container tab-pane fade",attrs:{id:"menu3"}},[s("br"),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Name")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.combo.name,expression:"combo.name"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"text",placeholder:""},domProps:{value:t.combo.name},on:{input:function(e){e.target.composing||t.$set(t.combo,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Price")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.combo.price,expression:"combo.price"}],staticClass:"form-control input-md",attrs:{id:"textinput",name:"textinput",type:"number",placeholder:""},domProps:{value:t.combo.price},on:{input:function(e){e.target.composing||t.$set(t.combo,"price",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Description")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.combo.desc,expression:"combo.desc"}],attrs:{cols:"38",rows:"5"},domProps:{value:t.combo.desc},on:{input:function(e){e.target.composing||t.$set(t.combo,"desc",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label"},[t._v("Items")]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.combo.items,expression:"combo.items"}],staticClass:"form-control custom-select",attrs:{multiple:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.combo,"items",e.target.multiple?s:s[0])}}},t._l(t.items,function(e,i){return s("option",{key:i,domProps:{value:e.id}},[t._v(t._s(e.name)+" - Price: "+t._s(e.price)+" - Stock: "+t._s(e.stock))])}))])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-4 control-label",attrs:{for:"singlebutton"}}),t._v(" "),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-success",attrs:{id:"singlebutton",name:"singlebutton"},on:{click:function(e){t.addCombo()}}},[t._v("add")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#home"}},[this._v("Add Item")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu3"}},[this._v("Add Combo")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu4"}},[this._v("Discount")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu5"}},[this._v("Discount all")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("First")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Last")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Handle")])])])}]};var v=s("VU/8")(d,m,!1,function(t){s("TC1f")},null,null);e.default=v.exports}});
//# sourceMappingURL=2.59145dadd8bd4c0e7889.js.map