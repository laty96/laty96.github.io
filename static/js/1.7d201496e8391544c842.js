webpackJsonp([1],{i8KI:function(t,e){},lO7g:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("BO1k"),a=i.n(s),n=i("Zrlr"),c=i.n(n),o=i("yp89"),r=function t(e){c()(this,t),this.id=Object(o.a)(),this.order_id=e.order_id,this.items=e.items,this.is_confirmed=!1,this.created_time=Date.now(),this.completed_time="",this.type=e.type},l=function t(e){c()(this,t),this.id=Object(o.a)(),this.name=e.name||"user",this.items=e.items,this.employee_id=e.employee_id||"",this.store_id=e.store_id||"",this.created_time=Date.now(),this.completed_time="",this.is_done=!1},_=i("9r0o"),v=i("WdvJ"),d=i("N+h9"),u={name:"home",data:function(){return{items:[],limit:0,collection:"exportTickets",cart:[],combo:[]}},methods:{add:function(t){var e=0,i=!0,s=!1,n=void 0;try{for(var c,o=a()(this.cart);!(i=(c=o.next()).done);i=!0){c.value.id==t.id&&e++}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}t.quantity=1,0==e&&this.cart.push(t)},remove:function(t){this.cart.splice(t,1)},buy:function(){var t=new l({items:this.cart}),e=new r({items:this.cart,order_id:t.id,type:"export"}),i=new _.a({items:this.cart,orderid:t.id,ticketid:e.id});v.a.setFirebaseDB(d.a),v.a.setCollection("orders").create(t,function(t){console.log(t)}),v.a.setCollection("tickets").create(e,function(t){console.log(t)}),v.a.setCollection("bills").create(i,function(t){console.log(t)}),this.cart=[]},more:function(){this.limit+=10,this.getItem()},getItem:function(){var t=this;v.a.setFirebaseDB(d.a).setCollection("items").setOrderBy("created_time").getWithConditionRealTime([{field:"stock",op:">",value:0}],function(e){t.items=e,console.log(e)})}},created:function(){var t=this;this.getItem(),v.a.setFirebaseDB(d.a).setCollection("combo").setOrderBy("created_time").getWithConditionRealTime([{field:"stock",op:">",value:0}],function(e){t.combo=e,console.log(e)})}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._m(0),t._v(" "),i("div",{staticClass:"tab-content mt-1"},[i("div",{staticClass:"container tab-pane active",attrs:{id:"home"}},[i("div",{staticClass:"row d-flex justify-content-around"},t._l(t.items,function(e,s){return i("div",{key:s,staticClass:"card col-md-3 m-2"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v("Price: "+t._s(e.price))]),t._v(" "),i("p",[t._v("Stock: "+t._s(e.stock))]),t._v(" "),i("p",[t._v("Discount percent: "+t._s(e.discount_percent)+"%")]),t._v(" "),i("p",[t._v("Discount value: "+t._s(e.discount_value))]),t._v(" "),i("button",{staticClass:"btn",on:{click:function(i){t.add(e)}}},[t._v("Add to cart")])])])})),t._v(" "),i("button",{staticClass:"btn",on:{click:function(e){t.more()}}},[t._v("More")])]),t._v(" "),i("div",{staticClass:"container tab-pane",attrs:{id:"menu1"}},[i("table",{staticClass:"table"},[t._m(1),t._v(" "),i("tbody",t._l(t.cart,function(e,s){return i("tr",{key:s},[i("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.price))]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],attrs:{type:"number",min:"1",max:e.stock},domProps:{value:e.quantity},on:{input:function(i){i.target.composing||t.$set(e,"quantity",i.target.value)}}})]),t._v(" "),i("td",[i("button",{staticClass:"btn",on:{click:function(e){t.remove(s)}}},[t._v("Ã—")])])])}))]),t._v(" "),i("button",{staticClass:"btn",on:{click:function(e){t.buy()}}},[t._v("Buy")])]),t._v(" "),i("div",{staticClass:"container tab-pane",attrs:{id:"menu2"}},[i("div",{staticClass:"row d-flex justify-content-around"},t._l(t.combo,function(e,s){return i("div",{key:s,staticClass:"card col-md-3 m-2"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v("Price: "+t._s(e.price))]),t._v(" "),i("p",[t._v("Stock: "+t._s(e.stock))]),t._v(" "),i("p",[t._v("Discount percent: "+t._s(e.discount_percent)+"%")]),t._v(" "),i("p",[t._v("Discount value: "+t._s(e.discount_value))]),t._v(" "),i("p",[i("a",{staticClass:"btn btn-primary",attrs:{"data-toggle":"collapse",href:"#"+e.id,role:"button","aria-expanded":"false","aria-controls":e.id}},[t._v("\n              Items:\n            ")])]),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:e.id}},t._l(e.items,function(e,s){return i("div",{key:s,staticClass:"card card-body m-1"},[i("p",[t._v("Name: "+t._s(e.name))]),t._v(" "),i("p",[t._v("Price: "+t._s(e.price))]),t._v(" "),i("p",[t._v("Discount percent: "+t._s(e.discount_percent)+"%")]),t._v(" "),i("p",[t._v("Discount value: "+t._s(e.discount_value))]),t._v(" "),i("p",[t._v("Stock: "+t._s(e.stock))]),t._v(" "),i("p",[t._v("Final price: "+t._s(e.final_price))])])})),t._v(" "),i("button",{staticClass:"btn",on:{click:function(i){t.add(e)}}},[t._v("Add to cart")])])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#home"}},[this._v("Home")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu1"}},[this._v("Cart")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu2"}},[this._v("Combo")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticClass:"thead-dark"},[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Price")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("Quantity")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("#")])])])}]};var p=i("VU/8")(u,m,!1,function(t){i("i8KI")},null,null);e.default=p.exports}});
//# sourceMappingURL=1.7d201496e8391544c842.js.map