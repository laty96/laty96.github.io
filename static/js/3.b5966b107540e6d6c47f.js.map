{"version":3,"sources":["webpack:///src/components/UserList.vue","webpack:///./src/components/UserList.vue?40a4","webpack:///./src/components/UserList.vue","webpack:///src/components/GroupChat.vue","webpack:///./src/components/GroupChat.vue?7a2c","webpack:///./src/components/GroupChat.vue"],"names":["UserList","name","computed","extends_default","Object","vuex_esm","unsub","state","postView","unsubPost","post","userInfo","auth","getUserStatus","status","getUsername","notify","inactiveNotify","inactiveNoti","chatList","chat","pendingRequests","friendNotify","converList","joinedGroupList","group","groupUserList","data","groupId","groupChatId","route","isMobile","utilities","any","wh","window","innerHeight","props","userList","Array","watch","n","o","this","$store","dispatch","id","_id","$route","_this","params","filter","g","membersId","beforeMount","created","_this2","console","log","mounted","$","bootstrapMaterialDesign","document","getElementById","dir","style","right","methods","countNew","c","count","i","content","length","owner","openConversation","openMenu","classList","add","remove","createConversation","u","_this3","then","forEach","indexOf","click","$router","push","blockUser","userId","unblockUser","removeFromGroup","components_UserList","render","_vm","_h","$createElement","_c","_self","staticClass","class","hide-user col-8","attrs","_l","user","key","staticStyle","min-width","role","data-toggle","aria-haspopup","aria-expanded","height","width","src","imgURL","_v","_s","aria-labelledby","on","$event","_e","blockedUser","includes","data-content","data-html-allowed","data-timeout","to","ownerId","staticRenderFns","src_components_UserList","__webpack_require__","normalizeComponent","ssrContext","GroupChat","components","Picker","emoji_mart","ChatMessage","_ref","messages","minimize","isFocus","message","newMessages","oldMessages","emojiPicker","emojiRegex","emojiRegex2","matchesEmoji","emo","images","files","canSendMessage","hasImage","hasFile","paths","filePaths","realImage","realFile","filelimit","converlength","isScrollable","now","limitMessage","messageLimit","defineProperty_default","Date","groupMessage","imgURLs","e","isLoading","getOldMessage","getNewMessage","send","calendarTime","selectEmoji","emoji","innerHTML","twemoji","parse","convert","fromCodePoint","unified","colons","setCaret","searchEmoji","innerText","keyCode","match","a","substr","search","map","replaceEmoji","input","replace","_a","onDragover","preventDefault","addClass","onDragend","removeClass","onDrop","stopPropagation","file","dataTransfer","oversize","wrongtype","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","f","value","size","type","URL","createObjectURL","path","err","return","chooseImage","get","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dropImage","limitFiles","alert","_path","dragLeave","uploadFile","_ref2","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","actions_type","sent","fileCount","stop","_x","_x2","_x3","apply","arguments","pasteImage","clipboardData","text","originalEvent","getData","execCommand","uploadImage","_ref3","_callee2","_context2","_x4","_x5","_x6","removeImage","k","splice","revokeObjectURL","removeFile","title","$modal","show","buttons","default","textContent","vm","m","userImg","img","isUploading","sendMessage","imageLength","loadOldMessage","scrollTop","target","isEnd","scrollChat","_this4","setTimeout","el","scrollHeight","range","createRange","sel","getSelection","setStart","childNodes","collapse","removeAllRanges","addRange","focus","dragEnter","checkImageLink","link","b","_this5","firestore","collection","where","orderBy","limit","onSnapshot","querySnapshot","empty","doc","_this6","closeUserList","css","_this7","left","components_GroupChat","position","top","bottom","background","z-index","_m","display","drop","dragover","dragleave","dragend","border","margin","overflow-x","padding-bottom","scroll","createdTime","index","cursor","vertical-align","visibility","multiple","change","max-height","overflow-y","contenteditable","keyup","ctrlKey","shiftKey","altKey","metaKey","keydown","_k","paste","directives","rawName","expression","zIndex","set","native","emojiTooltip","showPreview","select","margin-top","GroupChat_Component","GroupChat_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.b5966b107540e6d6c47f.js","sourcesContent":["<template>\r\n  <div id=\"userList\" class=\"chat-list bg-secondary p-0\" :style=\"`overflow:hidden auto`\" :class=\"{'hide-user col-8': isMobile}\">\r\n    <div class=\"container-fluid p-0\">\r\n      <div class=\"list-group p-0 dropdown\" style=\"min-width: 200px\" v-for=\"user in groupUserList\" :key=\"user.id\" >\r\n        <a class=\"list-group-item list-group-item-action p-1 m-1 rounded text-white\" \r\n            role=\"button\" :id=\"user._id\" data-toggle=\"dropdown\" aria-haspopup=\"false\" aria-expanded=\"false\">\r\n          <img :src=\"user.imgURL\" style=\"height: 30px;width: 30px\" class=\"rounded-circle\">\r\n          {{user.name}}\r\n        </a>\r\n        <div class=\"dropdown-menu\" :aria-labelledby=\"user._id\">\r\n          <a class=\"dropdown-item\" @click=\"createConversation(user)\" v-if=\"user._id != userInfo._id\">Message</a>\r\n          <a class=\"dropdown-item\" v-if=\"user._id != userInfo._id && !userInfo.blockedUser.includes(user._id)\" @click=\"blockUser(user._id)\" data-toggle=\"snackbar\" :data-content=\"`Blocked ${user.name}`\" data-html-allowed=\"true\" data-timeout=\"0\">Block</a>\r\n          <a class=\"dropdown-item\" v-if=\"user._id != userInfo._id && userInfo.blockedUser.includes(user._id)\" @click=\"unblockUser(user._id)\" data-toggle=\"snackbar\" :data-content=\"`Unblocked ${user.name}`\" data-html-allowed=\"true\" data-timeout=\"0\">Unblock</a>\r\n          <router-link to=\"/profile\" class=\"dropdown-item\" v-if=\"user._id == userInfo._id\">Profile</router-link>\r\n          <router-link :to=\"'/profile/' + user._id\" class=\"dropdown-item\" v-if=\"user._id != userInfo._id\">Profile</router-link>\r\n          <a class=\"dropdown-item\" v-if=\"userInfo._id == group[0].ownerId && user._id != userInfo._id\" @click=\"removeFromGroup(user._id)\">Remove from group</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { isMobile, swipedetect } from \"../utilities\";\r\n\r\nexport default {\r\n  name: \"UserList\",\r\n  computed: {\r\n    ...mapState({\r\n      unsub: state => state.postView.unsubPost,\r\n      post: state => state.postView.post,\r\n      userInfo: state => state.auth.userInfo,\r\n      getUserStatus: state => state.auth.userInfo.status,\r\n      getUsername: state => state.auth.userInfo.name,\r\n      notify: state => (state.auth.notify ? state.auth.notify : []),\r\n      inactiveNotify: state =>\r\n        state.auth.inactiveNoti ? state.auth.inactiveNoti : [],\r\n      chatList: state => state.chat.chatList,\r\n      pendingRequests: state => state.auth.pendingRequests,\r\n      friendNotify: state => state.auth.friendNotify,\r\n      converList: state => state.chat.converList,\r\n      joinedGroupList: state => state.group.joinedGroupList,\r\n      groupUserList: state => state.group.groupUserList\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      groupId: \"\",\r\n      groupChatId: \"\",\r\n      route: \"\",\r\n      isMobile: isMobile.any(),\r\n      wh: window.innerHeight + 'px',\r\n      group: ''\r\n    };\r\n  },\r\n  props: {\r\n    userList: Array\r\n  },\r\n  watch: {\r\n    userInfo(n, o) {\r\n      this.$store.dispatch(\"getAllUserWithConversation\", this.userInfo.id);\r\n      this.$store.dispatch(\"getAllJoinedGroup\", this.userInfo._id);\r\n    },\r\n    $route(n, o) {\r\n      this.groupId = n.params.id;\r\n      this.route = n.name;\r\n      this.group = this.joinedGroupList.filter(g => g.groupId == this.$route.params.id);\r\n      this.$store.dispatch('getAllGroupUser', this.group[0].membersId);\r\n    },\r\n    converList(n) {\r\n      // this.$store.dispatch(\"getAllUserWithConversation\", this.userInfo.id);\r\n    },\r\n    // joinedGroupList(n) {\r\n    //   if (this.$route.name == \"group\") {\r\n    //     this.$router.push(\"/group/\" + n[n.length - 1].groupId);\r\n    //   }\r\n    // }\r\n  },\r\n  beforeMount() {\r\n    // this.$store.dispatch(\"getAllUserWithConversation\", this.userInfo.id);\r\n  },\r\n  created() {\r\n    this.group = this.joinedGroupList.filter(g => g.groupId == this.$route.params.id);\r\n    this.$store.dispatch('getAllGroupUser', this.group[0].membersId);\r\n    console.log(this.group, this.groupUserList);\r\n  },\r\n  mounted() {\r\n    $(\"#listChat\").bootstrapMaterialDesign();\r\n    swipedetect(document.getElementById('userList'), dir => {\r\n      if (dir == \"right\") {\r\n        document.getElementById('userList').style.right = \"-100%\"\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    countNew: function(c) {\r\n      let isNew = true,\r\n        count = 0;\r\n      for (let i = c.content.length - 1; i >= 0; i--) {\r\n        if (c.content[i].owner != this.userInfo.name && isNew) {\r\n          count++;\r\n        }\r\n      }\r\n      return count;\r\n    },\r\n    openConversation: function(c) {},\r\n    openMenu: function() {\r\n      if (document.getElementById(\"userList\").style.right == \"-100%\") {\r\n        document.getElementById(\"menu-overlay\").classList.add('menu-overlay');\r\n        document.getElementById(\"userList\").style.right = \"0\";\r\n      } else {\r\n        document.getElementById(\"menu-overlay\").classList.remove('menu-overlay');\r\n        document.getElementById(\"userList\").style.right = \"-100%\";\r\n      }\r\n    },\r\n    createConversation: function(u) {\r\n      this.$store.dispatch(\"CREATE_CONVERSATION\", {\r\n        u,\r\n        userInfo: this.userInfo\r\n      }).then(() => {\r\n        this.chatList.forEach(c => {\r\n          let id = u.id + this.userInfo.id;\r\n          if (c.membersId.indexOf(id) >= 0) {\r\n            $('a[href=\"#/personal\"]').click();\r\n            this.$router.push('/personal/' + c.groupId)\r\n          }\r\n        })\r\n      });\r\n      // this.$store.dispatch(\"GET_CONVERSATION\", this.userInfo.id + u.id);\r\n    },\r\n    blockUser(id) {\r\n      this.$store.dispatch(\"BLOCK_USER\", {\r\n        id: this.userInfo.id,\r\n        userId: id\r\n      });\r\n    },\r\n    unblockUser(id) {\r\n      this.$store.dispatch(\"UNBLOCK_USER\", { id: this.userInfo.id, userId: id });\r\n    },\r\n    removeFromGroup(id) {\r\n      this.$store.dispatch(\"removeFromGroup\", { id: id, groupId: this.group[0].groupId});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list-group-item.d-flex.justify-content-between.align-items-center:hover {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n  cursor: pointer;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\n.bg-secondary.text-white {\r\n  border-left: 7px solid var(--primary);\r\n}\r\n.hide-user {\r\n  right: -100%;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 9999;\r\n  top: 56px;\r\n  height: 100%;\r\n}\r\n.chat-list {\r\n  transition: all .4s ease-in-out;\r\n}\r\n.dropdown-item {\r\n  cursor: pointer;\r\n}\r\n.list-group-item-action:hover {\r\n  background-color: rgba(0, 0, 0, 0.2)\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-list bg-secondary p-0\",class:{'hide-user col-8': _vm.isMobile},style:(\"overflow:hidden auto\"),attrs:{\"id\":\"userList\"}},[_c('div',{staticClass:\"container-fluid p-0\"},_vm._l((_vm.groupUserList),function(user){return _c('div',{key:user.id,staticClass:\"list-group p-0 dropdown\",staticStyle:{\"min-width\":\"200px\"}},[_c('a',{staticClass:\"list-group-item list-group-item-action p-1 m-1 rounded text-white\",attrs:{\"role\":\"button\",\"id\":user._id,\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"false\",\"aria-expanded\":\"false\"}},[_c('img',{staticClass:\"rounded-circle\",staticStyle:{\"height\":\"30px\",\"width\":\"30px\"},attrs:{\"src\":user.imgURL}}),_vm._v(\"\\n        \"+_vm._s(user.name)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":user._id}},[(user._id != _vm.userInfo._id)?_c('a',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.createConversation(user)}}},[_vm._v(\"Message\")]):_vm._e(),_vm._v(\" \"),(user._id != _vm.userInfo._id && !_vm.userInfo.blockedUser.includes(user._id))?_c('a',{staticClass:\"dropdown-item\",attrs:{\"data-toggle\":\"snackbar\",\"data-content\":(\"Blocked \" + (user.name)),\"data-html-allowed\":\"true\",\"data-timeout\":\"0\"},on:{\"click\":function($event){return _vm.blockUser(user._id)}}},[_vm._v(\"Block\")]):_vm._e(),_vm._v(\" \"),(user._id != _vm.userInfo._id && _vm.userInfo.blockedUser.includes(user._id))?_c('a',{staticClass:\"dropdown-item\",attrs:{\"data-toggle\":\"snackbar\",\"data-content\":(\"Unblocked \" + (user.name)),\"data-html-allowed\":\"true\",\"data-timeout\":\"0\"},on:{\"click\":function($event){return _vm.unblockUser(user._id)}}},[_vm._v(\"Unblock\")]):_vm._e(),_vm._v(\" \"),(user._id == _vm.userInfo._id)?_c('router-link',{staticClass:\"dropdown-item\",attrs:{\"to\":\"/profile\"}},[_vm._v(\"Profile\")]):_vm._e(),_vm._v(\" \"),(user._id != _vm.userInfo._id)?_c('router-link',{staticClass:\"dropdown-item\",attrs:{\"to\":'/profile/' + user._id}},[_vm._v(\"Profile\")]):_vm._e(),_vm._v(\" \"),(_vm.userInfo._id == _vm.group[0].ownerId && user._id != _vm.userInfo._id)?_c('a',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.removeFromGroup(user._id)}}},[_vm._v(\"Remove from group\")]):_vm._e()],1)])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4995cf85\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4995cf85\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4995cf85\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4995cf85\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container-fluid main p-0\" :class=\"[isMobile ? 'full-size' : 'row m-0']\">\r\n    <div v-if=\"isLoading\" class=\"loader-wrapper d-flex\" style=\"position:absolute;top:0;left:0;right:0;bottom:0;background: rgba(0,0,0,.3);z-index:999\">\r\n      <div style=\"margin:auto !important;margin-top: 40vh !important;\">\r\n        <div class=\"loader rounded-circle\"></div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"full-size\"\r\n      style=\"top: 0;background: rgba(0,0,0,.4);z-index: 9999;display: none\"\r\n      id=\"dropzonebg\"\r\n        @drop.prevent=\"onDrop($event);\"\r\n        @dragover.prevent=\"onDragover($event)\"\r\n        @dragleave.prevent=\"onDragover($event)\"\r\n        @dragend.prevent=\"onDragend($event)\"\r\n    >\r\n      <div\r\n        class=\"rounded text-white text-center p-1\"\r\n        style=\"border: 5px dashed;height: 200px;width: 300px;position: absolute;top: 0;left: 0;right: 0;bottom: 0;margin: auto calc(50% - 150px);z-index:-1\"\r\n        @dragover.prevent=\"onDragover($event)\"\r\n        @dragleave.prevent=\"onDragover($event)\"\r\n        @dragend.prevent=\"onDragend($event)\"\r\n      >\r\n        <i\r\n          class=\"fas fa-plus fa-10x\"\r\n          style=\"height: 140px;width: 140px;position: absolute;top: 0;left: 0;right: 0;bottom: 0;margin: auto calc(50% - 70px);z-index:-1\"\r\n        ></i>\r\n        Drop Image Here\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"d-flex align-items-end card border-0 p-0\"\r\n      style=\"height: 100%\"\r\n      :class=\"[isMobile ? '' : 'col-10']\"\r\n      @dragover.prevent=\"onDragover($event)\"\r\n    >\r\n      <div class=\"container-fluid card-body p-0\" style=\"height: calc(100vh - 56px - 64px)\">\r\n        <ul\r\n          id=\"group-messages\"\r\n          class=\"list-group list-group-flush d-flex flex-column-reverse main-message\"\r\n          style=\"overflow-x:hidden;padding-bottom: 20px;\"\r\n          @click=\"closeUserList()\"\r\n          @scroll=\"loadOldMessage($event)\"\r\n        > \r\n          <a\r\n            class=\"list-group-item px-4 py-1\"\r\n            v-for=\"(c, i) in newMessages\"\r\n            :key=\"c.createdTime\"\r\n            style=\"border: none;\"\r\n          >\r\n            <ChatMessage :c=\"c\" :next=\"newMessages[i+1]\" :i=\"i\"/>\r\n          </a>\r\n          <a\r\n            class=\"list-group-item px-4 py-1\"\r\n            v-for=\"(c, i) in oldMessages\"\r\n            :key=\"c.createdTime\"\r\n            style=\"border: none;\"\r\n          >\r\n            <ChatMessage :c=\"c\" :next=\"oldMessages[i+1]\" :i=\"i\"/>\r\n          </a>\r\n          <a class=\"list-group-item px-4 py-0\" style=\"border: none;\" :class=\"{'isMobile': isMobile}\" v-if=\"isEnd\">\r\n            <h2 class=\"m-3\">Say Hi to your friends!</h2>\r\n          </a>\r\n        </ul>\r\n      </div>\r\n      <div class=\"container-fluid card-footer\" style=\"position: relative\">\r\n        <div class=\"images-preview d-flex bg-light p-2\" v-if=\"images.length\">\r\n          <div\r\n            class=\"image_preview border mx-1\"\r\n            v-for=\"(i, index) in images\"\r\n            :key=\"index\"\r\n            :style=\"'background-image: url('+ i +')'\"\r\n          >\r\n            <div v-if=\"isUploading\" class=\"text-white\" style=\"position: absolute;top: 0;left: 0;right: 0;background: rgba(0,0,0,.5);bottom: 0;\">\r\n              <i class=\"fas fa-spin fa-spinner fa-2x\" style=\"position: relative;top:25px;left:35px\"></i>\r\n            </div>\r\n            <i\r\n              class=\"fas fa-lg fa-times-circle bg-white rounded-circle text-dark\"\r\n              style=\"position: absolute; top: 5px;right: 5px;cursor: pointer;display:none\"\r\n              @click=\"removeImage(index)\"\r\n            ></i>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend border\">\r\n            <label class=\"btn btn-primary m-0\">\r\n              <i class=\"far fa-plus-square fa-lg fa-2x\" style=\"vertical-align: top;\"></i>\r\n              <input\r\n                type=\"file\"\r\n                id=\"inputImage\"\r\n                multiple\r\n                style=\"visibility: hidden;display: none\"\r\n                @change=\"chooseImage($event)\"\r\n              >\r\n            </label>\r\n          </div>\r\n\r\n          <div\r\n            contenteditable=\"true\"\r\n            class=\"p-2 border-top message form-control\"\r\n            style=\"max-height: 42px; overflow-y:auto\"\r\n            id=\"comment\"\r\n            :class=\"{ minimize: minimize }\"\r\n            @keyup.exact=\"searchEmoji($event)\"\r\n            @keydown.prevent.exact.enter=\"sendMessage($event)\"\r\n            @paste=\"pasteImage($event)\"\r\n          ></div>\r\n\r\n          <div class=\"input-group-append border\">\r\n            <button class=\"btn btn-primary m-0\" type=\"button\" @click=\"emojiPicker = !emojiPicker;\">\r\n              <img\r\n                src=\"https://twemoji.maxcdn.com/2/72x72/1f600.png\"\r\n                class=\"emoji\"\r\n                style=\"height: 1.5em\"\r\n              >\r\n            </button>\r\n            <button class=\"btn btn-danger m-0\" type=\"button\" @click=\"sendMessage($event);\">\r\n              <i class=\"fas fa-reply\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <UserList :class=\"[isMobile ? 'p-0' : 'col-2 p-0']\"/>\r\n    <div class=\"emoji-picker\" v-show=\"emojiPicker\">\r\n      <Picker\r\n        :set=\"'twitter'\"\r\n        :native=\"false\"\r\n        :emojiTooltip=\"!isMobile\"\r\n        :showPreview=\"!isMobile\"\r\n        :style=\"{\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tbottom: isMobile ? '68px' :'124px',\r\n\t\t\t\t\t\tright: isMobile ? '0' :'17%',\r\n\t\t\t\t\t\twidth: isMobile ? '100vw' : '50vw' ,\r\n\t\t\t\t\t\tzIndex: 300,\r\n\t\t\t\t\t}\"\r\n        @select=\"selectEmoji($event);\"\r\n      />\r\n    </div>\r\n    <!-- <v-dialog /> -->\r\n    <!-- <modal name=\"view-post\" :reset=\"true\" :adaptive=\"true\" :delay=\"100\"></modal> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Picker, emojiIndex } from \"emoji-mart-vue\";\r\nimport moment from \"moment\";\r\nimport db from \"../database/firestore\";\r\nimport query from \"../database/db.actions\";\r\nimport {\r\n  GET_CONVERSATION,\r\n  SEND_MESSAGE,\r\n  UPLOAD_IMAGE_TO_CHAT,\r\n  REMOVE_UPLOAD_IMAGE,\r\n  FILE_UPLOAD,\r\n  REMOVE_UPLOAD_FILE\r\n} from \"../store/actions.type\";\r\n\r\nimport { mapState } from \"vuex\";\r\nimport { convertDate, isMobile, swipedetect } from \"../utilities/index\";\r\n\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport UserList from \"./UserList\";\r\n\r\nexport default {\r\n  name: \"Group\",\r\n  components: {\r\n    Picker,\r\n    ChatMessage,\r\n    UserList\r\n  },\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      isMobile: isMobile.any(),\r\n      messages: {},\r\n      groupId: this.$route.params.id,\r\n      chat: [],\r\n      minimize: false,\r\n      isFocus: true,\r\n      message: \"\",\r\n      newMessages: [],\r\n      oldMessages: [],\r\n      emojiPicker: false,\r\n      emojiRegex: /(:[^\\s]*(?:::[^:\\s]*)*[^:\\s]:)|(:[^\\s]*(?:::[^:\\s]*)*[^:\\s])/g,\r\n      emojiRegex2: /:\\w{2,}:/g,\r\n      matchesEmoji: [],\r\n      emo: \"\",\r\n      images: [], // url images\r\n      files: [], // url file\r\n      canSendMessage: true,\r\n      hasImage: false,\r\n      hasFile: false,\r\n      paths: [], // img path \"_id/time_image_name\"\r\n      filePaths: [], // file path\r\n      realImage: [], // image file object\r\n      realFile: [], // file object\r\n      imgURL: [],\r\n      filelimit: 20,\r\n      converlength: 0,\r\n      isScrollable: false,\r\n      now: 0,\r\n      limitMessage: 30,\r\n      messageLimit: 1000,\r\n      now: Date.now(),\r\n      isLoading: true,\r\n      isEnd: false,\r\n      isUploading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userInfo: state => state.auth.userInfo,\r\n      getUserStatus: state => state.auth.userInfo.status,\r\n      getUsername: state => state.auth.userInfo.name,\r\n      notify: state => (state.auth.notify ? state.auth.notify : []),\r\n      inactiveNotify: state =>\r\n        state.auth.inactiveNoti ? state.auth.inactiveNoti : [],\r\n      joinedGroupList: state => state.group.joinedGroupList,\r\n      pendingRequests: state => state.auth.pendingRequests,\r\n      friendNotify: state => state.auth.friendNotify,\r\n      groupMessage: state => state.group.groupMessage,\r\n      imgURLs: state => state.chat.imgURL\r\n    })\r\n  },\r\n  watch: {\r\n    id() {\r\n      this.messages =\r\n        this.joinedGroupList.filter(e => e.groupId == this.id)[0] || {};\r\n      console.log();\r\n    },\r\n    $route(n) {\r\n      this.unsub();\r\n      let groupId = this.$route.params.id;\r\n      this.groupId = groupId;\r\n      this.isLoading = true;\r\n      this.getOldMessage(groupId);\r\n      this.getNewMessage(groupId);\r\n    },\r\n    imgURLs(n, o) {\r\n      console.log(n, o);\r\n      if (n.length == this.images.length) {\r\n        this.send();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    calendarTime: convertDate,\r\n    selectEmoji(emoji) {\r\n      document.getElementById(\"comment\").innerHTML +=\r\n        twemoji.parse(twemoji.convert.fromCodePoint(emoji.unified)) +\r\n        '<div style=\"display: none\">' +\r\n        emoji.colons +\r\n        \"</div>\";\r\n      this.emojiPicker = false;\r\n      this.setCaret();\r\n    },\r\n    searchEmoji(e) {\r\n      this.message = document.getElementById(\"comment\").innerText;\r\n      if ((this.message.length > 2 && e.keyCode == 32) || e.keyCode == 13) {\r\n        this.emo = this.message.match(this.emojiRegex);\r\n        let a = this.emo ? this.emo[this.emo.length - 1].substr(1) : \"\";\r\n        if (a.length > 1) {\r\n          this.matchesEmoji = emojiIndex.search(a).map(o => o);\r\n          this.replaceEmoji();\r\n        }\r\n      }\r\n    },\r\n    replaceEmoji(emoji) {\r\n      let input = document.getElementById(\"comment\");\r\n      if (emoji) {\r\n        this.message = input.innerHTML;\r\n        let a = twemoji.parse(twemoji.convert.fromCodePoint(emoji.unified));\r\n        input.innerHTML = this.message.replace(\r\n          this.emo,\r\n          a + '<div style=\"display: none\">' + emoji.colons + \"</div>\"\r\n        );\r\n        this.setCaret();\r\n        this.matchesEmoji = [];\r\n        this.emo = [];\r\n      } else if (this.matchesEmoji.length) {\r\n        this.message = input.innerHTML;\r\n        let a = twemoji.parse(\r\n          twemoji.convert.fromCodePoint(this.matchesEmoji[0].unified)\r\n        );\r\n        input.innerHTML = this.message.replace(\r\n          this.emo,\r\n          a +\r\n            '<div style=\"display: none\">' +\r\n            this.matchesEmoji[0].colons +\r\n            \"</div>\"\r\n        );\r\n        this.setCaret();\r\n        this.matchesEmoji = [];\r\n        this.emo = [];\r\n      }\r\n    },\r\n    onDragover(e) {\r\n      // this.isDragging = true;\r\n      e.preventDefault();\r\n      $(\"#dropzonebg\").addClass(\"show\");\r\n      return false;\r\n    },\r\n    onDragend(e) {\r\n      // this.isDragging = false;\r\n      e.preventDefault();\r\n      $(\"#dropzonebg\").removeClass(\"show\");\r\n      return false;\r\n    },\r\n    onDrop(e) {\r\n      // this.isDragging = false;\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      $(\"#dropzonebg\").removeClass(\"show\");\r\n\r\n      var file = e.dataTransfer.files,\r\n        vm = this,\r\n        oversize = [],\r\n        wrongtype = [];;\r\n      console.log(file)\r\n      if (\r\n        file.length > this.filelimit ||\r\n        this.images.length + file.length > this.filelimit\r\n      ) {\r\n        vm.oversize(\r\n          `LIMIT IMAGE IS ${this.filelimit}`,\r\n          `Limit images per upload is ${this.filelimit}`\r\n        );\r\n      } else {\r\n        for (let f of file) {\r\n          if (f.size < 5000000) {\r\n            if (\r\n              f.type == \"image/png\" ||\r\n              f.type == \"image/jpeg\" ||\r\n              f.type == \"image/gif\"\r\n            ) {\r\n              // let reader = new FileReader();\r\n              this.realImage.push(f);\r\n              this.images.push(window.URL.createObjectURL(f));\r\n              let path =\r\n                this.messages.groupId + \"/\" + Date.now() + \"_\" + f.name;\r\n              this.paths.push(path);\r\n              // reader.onload = function(event) {\r\n              // vm.images.push(event.target.result);\r\n              // };\r\n              // reader.readAsDataURL(f);\r\n            } else {\r\n              wrongtype.push(f.name);\r\n            }\r\n          } else {\r\n            oversize.push(f.name);\r\n          }\r\n        }\r\n        if (oversize.length) {\r\n          vm.oversize(\r\n            \"YOUR IMAGE IS TO BIG\",\r\n            `Try other image or reduce image size.\\n \r\n          <p>Images: <code>${oversize}</code></p>`\r\n          );\r\n        }\r\n        if (wrongtype.length) {\r\n          vm.oversize(\r\n            \"YOUR FILES TYPE ARE NOT SUPPORTED\",\r\n            `Supported file types: <code>.png .jpg .gif</code>\\n <p>Files: <code>${wrongtype}</code></p>`\r\n          );\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    chooseImage(e) {\r\n      let file = $(\"#inputImage\").get(0).files,\r\n        vm = this,\r\n        oversize = [],\r\n        wrongtype = [];\r\n      if (\r\n        file.length > this.filelimit ||\r\n        this.images.length + file.length > this.filelimit\r\n      ) {\r\n        vm.oversize(\r\n          `LIMIT IMAGE IS ${this.filelimit}`,\r\n          `Limit images per upload is ${this.filelimit}`\r\n        );\r\n      } else {\r\n        for (let f of file) {\r\n          if (f.size < 5000000) {\r\n            if (\r\n              f.type == \"image/png\" ||\r\n              f.type == \"image/jpeg\" ||\r\n              f.type == \"image/gif\"\r\n            ) {\r\n              // let reader = new FileReader();\r\n              this.realImage.push(f);\r\n              this.images.push(window.URL.createObjectURL(f));\r\n              let path =\r\n                this.messages.groupId + \"/\" + Date.now() + \"_\" + f.name;\r\n              this.paths.push(path);\r\n              // reader.onload = function(event) {\r\n              // vm.images.push(event.target.result);\r\n              // };\r\n              // reader.readAsDataURL(f);\r\n            } else {\r\n              wrongtype.push(f.name);\r\n            }\r\n          } else {\r\n            oversize.push(f.name);\r\n          }\r\n        }\r\n        if (oversize.length) {\r\n          vm.oversize(\r\n            \"YOUR IMAGE IS TO BIG\",\r\n            `Try other image or reduce image size.\\n \r\n          <p>Images: <code>${oversize}</code></p>`\r\n          );\r\n        }\r\n        if (wrongtype.length) {\r\n          vm.oversize(\r\n            \"YOUR FILES TYPE ARE NOT SUPPORTED\",\r\n            `Supported file types: <code>.png .jpg .gif</code>\\n <p>Files: <code>${wrongtype}</code></p>`\r\n          );\r\n        }\r\n      }\r\n    },\r\n    dropImage(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      let dt = e.dataTransfer;\r\n      let files = dt.files;\r\n      if (files.length) {\r\n        if (files.length >= this.limitFiles)\r\n          alert(\"Limit\" + this.limitFiles + \"files\");\r\n        for (let i = 0; i < files.length; i++) {\r\n          if (files[i].type != \"image/jpeg\" && files[i].type != \"image/png\") {\r\n            let path =\r\n              this.messages.groupId + \"/\" + Date.now() + \"_\" + files[i].name;\r\n            this.canSendMessage = false;\r\n            this.hasFile = true;\r\n            this.filePaths.push(path);\r\n            this.realFile.push(files[i]);\r\n            // this.uploadFile(files[i], path, id);\r\n          } else if (\r\n            files[i].type == \"image/jpeg\" ||\r\n            files[i].type == \"image/png\"\r\n          ) {\r\n            this.canSendMessage = false;\r\n            this.hasImage = true;\r\n            let path =\r\n              this.messages.groupId + \"/\" + Date.now() + \"_\" + files[i].name;\r\n            this.paths.push(path);\r\n            this.images.push(window.URL.createObjectURL(files[i]));\r\n            this.realImage.push(files[i]);\r\n            // this.uploadImage(files[i], path, id);\r\n          }\r\n        }\r\n      }\r\n      this.dragLeave(e);\r\n    },\r\n    uploadFile: async function(file, path, id) {\r\n      this.$store.dispatch(FILE_UPLOAD, {\r\n        file: file,\r\n        path: path,\r\n        id: id\r\n      });\r\n      // let interval = setInterval(() => {\r\n      this.files = await this.$store.state.chat.files[id];\r\n      let count = await this.$store.state.chat.fileCount;\r\n      // if (this.files.toString() == this.filePaths.toString() && count == this.filePaths.length) {\r\n      // \t// clearInterval(interval);\r\n      // \tthis.canSendMessage = true;\r\n      // }\r\n      console.log(this.files);\r\n      // }, 200);\r\n    },\r\n    pasteImage(e) {\r\n      let id = this.messages.groupId;\r\n      e.preventDefault();\r\n      let file = e.clipboardData.files;\r\n      if (file.length) {\r\n        let path = id + \"/\" + Date.now() + \"_\" + file[0].name;\r\n        this.paths.push(path);\r\n        this.images.push(window.URL.createObjectURL(file[0]));\r\n        this.realImage.push(file[0]);\r\n      }\r\n      let text = (e.originalEvent || e).clipboardData.getData(\"text/plain\");\r\n      document.execCommand(\"insertHTML\", false, text);\r\n\r\n      // let id = this.messages.id;\r\n      // let file = e.clipboardData.files;\r\n      // if (file.length) {\r\n      //   if (this.images.length > 7) {\r\n      //     return;\r\n      //   }\r\n      //   // this.canSendMessage = false;\r\n      //   this.hasImage = true;\r\n      //   let path = this.messages.groupId + \"/\" + Date.now() + file[0].name;\r\n      //   this.paths.push(path);\r\n      //   this.images.push(window.URL.createObjectURL(file[0]));\r\n      //   this.realImage.push(file[0]);\r\n      //   this.$forceUpdate();\r\n      //   // this.uploadImage(file[0], path, id);\r\n      // } else {\r\n      //   return;\r\n      // }\r\n      // e.preventDefault();\r\n      // let text = (e.originalEvent || e).clipboardData.getData(\"text/plain\");\r\n      // document.execCommand(\"insertHTML\", false, text);\r\n    },\r\n    uploadImage: async function(file, path, id) {\r\n      // this.canSendMessage = false;\r\n\r\n      this.$store.dispatch(UPLOAD_IMAGE_TO_CHAT, {\r\n        file: file,\r\n        path: path,\r\n        id: id\r\n      });\r\n      // let interval = setInterval(() => {\r\n      let count = this.$store.state.chat.fileCount;\r\n      this.imgURL = await this.$store.state.chat.images[id];\r\n      // if (this.images.toString() == this.paths.toString() && count == this.paths.length) {\r\n      // \t// clearInterval(interval);\r\n      // \tthis.canSendMessage = true;\r\n      // }\r\n      console.log(this.imgURL);\r\n      // }, 200);\r\n    },\r\n    removeImage(k) {\r\n      // this.$store.dispatch(REMOVE_UPLOAD_IMAGE, {\r\n      // \tamount: 1,\r\n      // \tindex: k,\r\n      // \tpath: this.paths[k],\r\n      // \tid: this.messages.id\r\n      // });\r\n      this.images.splice(k, 1);\r\n      this.realImage.splice(k, 1);\r\n      window.URL.revokeObjectURL(this.realImage.splice(k, 1));\r\n      this.paths.splice(k, 1);\r\n      if (this.images.length == 0) this.hasImage = false;\r\n    },\r\n    removeFile(k) {\r\n      // this.$store.dispatch(REMOVE_UPLOAD_FILE, {\r\n      // \tamount: 1,\r\n      // \tindex: k,\r\n      // \tpath: this.filePaths[k],\r\n      // \tid: this.messages.id\r\n      // });\r\n      // this.files.splice(k, 1);\r\n      this.filePaths.splice(k, 1);\r\n      this.realFile.splice(k, 1);\r\n      if (this.files.length == 0) this.hasFile = false;\r\n    },\r\n    oversize(title, text) {\r\n      this.$modal.show(\"dialog\", {\r\n        title,\r\n        text,\r\n        buttons: [\r\n          {\r\n            title: \"CLOSE\",\r\n            default: false\r\n          }\r\n        ]\r\n      });\r\n    },\r\n    send() {\r\n      this.message = document.getElementById(\"comment\").textContent;\r\n      if (this.message.length > this.messageLimit) {\r\n        vm.oversize(\r\n          \"YOUR MESSAGE IS TOO LONG\",\r\n          \"Please make your message shorter. Limit is 1000 characters\"\r\n        );\r\n      } else {\r\n        if (this.message.length == 0 && this.imgURL.length == 0) {\r\n          return;\r\n        } else {\r\n          let m = {\r\n            message: this.message,\r\n            owner: this.userInfo.name,\r\n            ownerId: this.userInfo._id,\r\n            _id: this.messages.id,\r\n            userImg: this.userInfo.imgURL,\r\n            img: this.imgURLs,\r\n            file: this.files,\r\n            groupId: this.messages.groupId\r\n          };\r\n          this.$store.dispatch(SEND_MESSAGE, m).then(() => {\r\n            this.$store.dispatch(\"resetImage\");\r\n            document.getElementById(\"comment\").innerHTML = \"\";\r\n            this.images = [];\r\n            this.files = [];\r\n            this.paths = [];\r\n            this.filePaths = [];\r\n            this.hasImage = false;\r\n            this.hasFile = false;\r\n            this.realFile = [];\r\n            this.realImage = [];\r\n            this.imgURL = [];\r\n            this.isUploading = false;\r\n          });\r\n        }\r\n      }\r\n    },\r\n    sendMessage(e) {\r\n      e.preventDefault();\r\n      if (this.isUploading == true) return;\r\n      this.$store.dispatch(\"resetImage\");\r\n      let vm = this;\r\n      let id = this.messages.groupId;\r\n      let retry = 0;\r\n      if (this.emo) this.searchEmoji(e);\r\n\r\n      // if (this.hasFile) {\r\n      //   let fileLength = this.filePaths.length - 1;\r\n      //   for (let i = 0; i <= fileLength; i++) {\r\n      //     this.uploadFile(this.realFile[i], this.filePaths[i], id);\r\n      //   }\r\n      // }\r\n      this.message = document.getElementById(\"comment\").textContent;\r\n      if (this.message.length || this.realImage.length) \r\n        this.isUploading = true;\r\n\r\n      if (this.realImage.length) {\r\n        let imageLength = this.paths.length;\r\n        for (let i = 0; i < imageLength; i++) {\r\n          this.uploadImage(this.realImage[i], this.paths[i], id);\r\n        }\r\n      }\r\n      return;\r\n\r\n      if (this.message.length > this.messageLimit) {\r\n        vm.oversize(\r\n          \"YOUR MESSAGE IS TOO LONG\",\r\n          \"Please make your message shorter. Limit is 1000 characters\"\r\n        );\r\n      } else {\r\n        let vm = this;\r\n        let d = setInterval(() => {\r\n          if (\r\n            (this.message.length ||\r\n              this.imgURL.length == this.images.length ||\r\n              this.files.length) &&\r\n            this.canSendMessage\r\n          ) {\r\n            let m = {\r\n              // membersId: this.messages.membersId[0],\r\n              message: this.message,\r\n              owner: this.userInfo.name,\r\n              ownerId: this.userInfo._id,\r\n              _id: this.messages.id,\r\n              userImg: this.userInfo.imgURL,\r\n              img: this.imgURL,\r\n              file: this.files,\r\n              groupId: this.messages.groupId\r\n            };\r\n            this.$store.dispatch(SEND_MESSAGE, m).then(this.scrollChat());\r\n            document.getElementById(\"comment\").innerHTML = \"\";\r\n            this.images = [];\r\n            this.files = [];\r\n            this.paths = [];\r\n            this.filePaths = [];\r\n            this.hasImage = false;\r\n            this.hasFile = false;\r\n            this.realFile = [];\r\n            this.realImage = [];\r\n            this.imgURL = [];\r\n            setTimeout(() => {\r\n              console.log(this.$store.state.chat.newMessage);\r\n              this.$forceUpdate();\r\n              this.scrollChat();\r\n            }, 10);\r\n            this.newMessages = Object.assign(\r\n              this.newMessages,\r\n              this.$store.state.chat.newMessage\r\n            );\r\n            clearInterval(d);\r\n            // if (!this.paths.length) {\r\n            // \tthis.$store.dispatch(REMOVE_UPLOAD_IMAGE, {\r\n            // \t\tamount: 0,\r\n            // \t\tid: this.messages.id\r\n            // \t});\r\n            // }\r\n            // if (!this.filePaths.length) {\r\n            // \tthis.$store.dispatch(REMOVE_UPLOAD_FILE, {\r\n            // \t\tamount: 0,\r\n            // \t\tid: this.messages.id\r\n            // \t});\r\n            // }\r\n            // clearInterval(interval);\r\n          } else {\r\n            console.log(\"Cant send messsage\");\r\n          }\r\n          retry++;\r\n          if (retry == 100) {\r\n            clearInterval(d);\r\n            console.log(\"Timeout\");\r\n          }\r\n        }, 1000);\r\n        // }, 200);\r\n      }\r\n    },\r\n    loadOldMessage(e) {\r\n      let scrollTop = e.target.scrollTop,\r\n        groupId = this.messages.groupId;\r\n\r\n      if (\r\n        scrollTop <= 1 && !this.isEnd\r\n      ) {\r\n        this.isScrollable = false;\r\n        this.limitMessage += 20;\r\n        this.getOldMessage(groupId);\r\n      }\r\n    },\r\n    scrollChat() {\r\n      this.isScrollable = false;\r\n      window.setTimeout(() => {\r\n        let el = document.getElementById(\"main-messages\");\r\n        if (el) el.scrollTop = el.scrollHeight;\r\n        this.isScrollable = true;\r\n      }, 100);\r\n    },\r\n    setCaret() {\r\n      setTimeout(() => {\r\n        var el = document.getElementById(\"comment\");\r\n        var range = document.createRange();\r\n        var sel = window.getSelection();\r\n        if (!el || el.innerHTML == \"\") return;\r\n        else\r\n          range.setStart(\r\n            el.childNodes[el.childNodes.length - 1],\r\n            el.childNodes[el.childNodes.length - 1].length\r\n          );\r\n        range.collapse(true);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n        el.focus();\r\n      }, 200);\r\n    },\r\n    dragEnter(e) {\r\n      document.getElementById(\"dropzone\").classList.add(\"border-primary\");\r\n    },\r\n    dragLeave(e) {\r\n      document.getElementById(\"dropzone\").classList.remove(\"border-primary\");\r\n    },\r\n    checkImageLink(link) {\r\n      let a = link.indexOf(\".jpg\");\r\n      let b = link.indexOf(\".png\");\r\n      let c = link.indexOf(\".jpeg\");\r\n      if (a > -1 || b > -1 || c > -1) {\r\n        return true;\r\n      } else return false;\r\n    },\r\n    getOldMessage(groupId) {\r\n      db.collection(\"message\")\r\n        .where(\"groupId\", \"==\", groupId)\r\n        .where(\"createdTime\", \"<\", this.now)\r\n        .orderBy(\"createdTime\", \"desc\")\r\n        .limit(this.limitMessage)\r\n        .onSnapshot(querySnapshot => {\r\n          let a = [];\r\n          console.log(querySnapshot);\r\n          if (querySnapshot.empty) {\r\n            console.log({ empty: true });\r\n            this.oldMessages = [];\r\n          } else {\r\n            querySnapshot.forEach(doc => {\r\n              let b = doc.data();\r\n              b._id = doc.id;\r\n              a.push(b);\r\n            });\r\n            console.log(a);\r\n            this.oldMessages = a;\r\n            if (a.length < this.limitMessage) this.isEnd = true;\r\n          }\r\n        });\r\n      this.isScrollable = true;\r\n    },\r\n    getNewMessage(groupId) {\r\n      this.unsub = db\r\n        .collection(\"message\")\r\n        .where(\"groupId\", \"==\", groupId)\r\n        .where(\"createdTime\", \">\", this.now)\r\n        .orderBy(\"createdTime\", \"desc\")\r\n        .onSnapshot(querySnapshot => {\r\n          let a = [];\r\n          console.log(querySnapshot);\r\n          if (querySnapshot.empty) {\r\n            console.log({ empty: true });\r\n            this.newMessages = [];\r\n          } else {\r\n            querySnapshot.forEach(doc => {\r\n              let b = doc.data();\r\n              b._id = doc.id;\r\n              a.push(b);\r\n            });\r\n            console.log(a);\r\n            this.newMessages = a;\r\n            this.scrollChat();\r\n          }\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    closeUserList() {\r\n      if (this.isMobile && document.getElementById(\"userList\"))\r\n        if ($(\"#userList\").css(\"right\") == \"0px\")\r\n          document.getElementById(\"userList\").style.right = \"-100%\";\r\n    }\r\n  },\r\n  mounted: function() {\r\n    let groupId = this.$route.params.id;\r\n    console.log(groupId);\r\n    this.getOldMessage(groupId);\r\n    this.getNewMessage(groupId);\r\n    // this.$store.dispatch(\"GET_NEW_MESSAGE\", { groupId, time: Date.now() });\r\n    // this.$store.dispatch(\"GET_NEW_MESSAGE\", { groupId, time: Date.now(), limit: 50 });\r\n    let vm = this;\r\n    setTimeout(() => {\r\n      vm.scrollChat();\r\n    }, 100);\r\n    swipedetect(document.getElementById(\"group-messages\"), dir => {\r\n      if (dir == \"right\") {\r\n        if (\r\n          document.getElementById(\"listChat\").style.left != \"0px\" &&\r\n          document.getElementById(\"userList\") &&\r\n          $(\"#userList\").css(\"right\") != \"0px\"\r\n        ) {\r\n          document.getElementById(\"listChat\").style.left = \"0\";\r\n        } else if (document.getElementById(\"userList\").style.right == \"0px\")\r\n          document.getElementById(\"userList\").style.right = \"-100%\";\r\n      } else if (dir == \"left\") {\r\n        if (document.getElementById(\"userList\"))\r\n          if ($(\"#userList\").css(\"right\") != \"0px\")\r\n            document.getElementById(\"userList\").style.right = \"0\";\r\n      }\r\n    });\r\n    this.id = this.$route.params.id;\r\n    this.messages =\r\n      this.joinedGroupList.filter(e => e.groupId == this.id)[0] || {};\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.loader {\r\n  -webkit-animation: spin 1s linear infinite;\r\n          animation: spin 1s linear infinite;\r\n  border: 3px solid #ddd;\r\n  border-top: 3px solid #42a5f5;\r\n  border-radius: 50%;\r\n  height: 75px;\r\n  width: 75px;\r\n}\r\n\r\n@-webkit-keyframes spin {\r\n  to {\r\n    border-top-color: #ec407a;\r\n    -webkit-transform: rotate(360deg);\r\n            transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    border-top-color: #ec407a;\r\n    -webkit-transform: rotate(360deg);\r\n            transform: rotate(360deg);\r\n  }\r\n}\r\n.image_preview {\r\n  /* width: 100%; */\r\n  height: 100%;\r\n  background: no-repeat center;\r\n  background-size: cover;\r\n  position: relative;\r\n  z-index: 3;\r\n  min-width: 100px;\r\n}\r\n.images-preview {\r\n  position: absolute;\r\n  top: -100px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: -100px;\r\n  height: 100px;\r\n  z-index: 2;\r\n  overflow: auto hidden;\r\n}\r\n.image_preview:hover i {\r\n  display: block !important;\r\n}\r\n.user-image {\r\n  height: 30px;\r\n  width: 30px;\r\n}\r\nhr {\r\n  width: 100%;\r\n}\r\n.show {\r\n  display: block !important;\r\n}\r\n.image_preview {\r\n  /* width: 100%; */\r\n  height: 100%;\r\n  background: no-repeat center;\r\n  background-size: cover;\r\n  position: relative;\r\n  z-index: 3;\r\n  min-width: 100px;\r\n}\r\n.images-preview {\r\n  position: absolute;\r\n  top: -100px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: -100px;\r\n  height: 100px;\r\n  z-index: 2;\r\n  overflow: auto hidden;\r\n}\r\n.image_preview:hover i {\r\n  display: block !important;\r\n}\r\n.user-image {\r\n  height: 30px;\r\n  width: 30px;\r\n}\r\nhr {\r\n  width: 100%;\r\n}\r\n* {\r\n  margin-right: 0 !important;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/GroupChat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid main p-0\",class:[_vm.isMobile ? 'full-size' : 'row m-0']},[(_vm.isLoading)?_c('div',{staticClass:\"loader-wrapper d-flex\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"background\":\"rgba(0,0,0,.3)\",\"z-index\":\"999\"}},[_vm._m(0)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"full-size\",staticStyle:{\"top\":\"0\",\"background\":\"rgba(0,0,0,.4)\",\"z-index\":\"9999\",\"display\":\"none\"},attrs:{\"id\":\"dropzonebg\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event);},\"dragover\":function($event){$event.preventDefault();return _vm.onDragover($event)},\"dragleave\":function($event){$event.preventDefault();return _vm.onDragover($event)},\"dragend\":function($event){$event.preventDefault();return _vm.onDragend($event)}}},[_c('div',{staticClass:\"rounded text-white text-center p-1\",staticStyle:{\"border\":\"5px dashed\",\"height\":\"200px\",\"width\":\"300px\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"margin\":\"auto calc(50% - 150px)\",\"z-index\":\"-1\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragover($event)},\"dragleave\":function($event){$event.preventDefault();return _vm.onDragover($event)},\"dragend\":function($event){$event.preventDefault();return _vm.onDragend($event)}}},[_c('i',{staticClass:\"fas fa-plus fa-10x\",staticStyle:{\"height\":\"140px\",\"width\":\"140px\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"margin\":\"auto calc(50% - 70px)\",\"z-index\":\"-1\"}}),_vm._v(\"\\n        Drop Image Here\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"d-flex align-items-end card border-0 p-0\",class:[_vm.isMobile ? '' : 'col-10'],staticStyle:{\"height\":\"100%\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDragover($event)}}},[_c('div',{staticClass:\"container-fluid card-body p-0\",staticStyle:{\"height\":\"calc(100vh - 56px - 64px)\"}},[_c('ul',{staticClass:\"list-group list-group-flush d-flex flex-column-reverse main-message\",staticStyle:{\"overflow-x\":\"hidden\",\"padding-bottom\":\"20px\"},attrs:{\"id\":\"group-messages\"},on:{\"click\":function($event){return _vm.closeUserList()},\"scroll\":function($event){return _vm.loadOldMessage($event)}}},[_vm._l((_vm.newMessages),function(c,i){return _c('a',{key:c.createdTime,staticClass:\"list-group-item px-4 py-1\",staticStyle:{\"border\":\"none\"}},[_c('ChatMessage',{attrs:{\"c\":c,\"next\":_vm.newMessages[i+1],\"i\":i}})],1)}),_vm._v(\" \"),_vm._l((_vm.oldMessages),function(c,i){return _c('a',{key:c.createdTime,staticClass:\"list-group-item px-4 py-1\",staticStyle:{\"border\":\"none\"}},[_c('ChatMessage',{attrs:{\"c\":c,\"next\":_vm.oldMessages[i+1],\"i\":i}})],1)}),_vm._v(\" \"),(_vm.isEnd)?_c('a',{staticClass:\"list-group-item px-4 py-0\",class:{'isMobile': _vm.isMobile},staticStyle:{\"border\":\"none\"}},[_c('h2',{staticClass:\"m-3\"},[_vm._v(\"Say Hi to your friends!\")])]):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"container-fluid card-footer\",staticStyle:{\"position\":\"relative\"}},[(_vm.images.length)?_c('div',{staticClass:\"images-preview d-flex bg-light p-2\"},_vm._l((_vm.images),function(i,index){return _c('div',{key:index,staticClass:\"image_preview border mx-1\",style:('background-image: url('+ i +')')},[(_vm.isUploading)?_c('div',{staticClass:\"text-white\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background\":\"rgba(0,0,0,.5)\",\"bottom\":\"0\"}},[_c('i',{staticClass:\"fas fa-spin fa-spinner fa-2x\",staticStyle:{\"position\":\"relative\",\"top\":\"25px\",\"left\":\"35px\"}})]):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"fas fa-lg fa-times-circle bg-white rounded-circle text-dark\",staticStyle:{\"position\":\"absolute\",\"top\":\"5px\",\"right\":\"5px\",\"cursor\":\"pointer\",\"display\":\"none\"},on:{\"click\":function($event){return _vm.removeImage(index)}}})])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend border\"},[_c('label',{staticClass:\"btn btn-primary m-0\"},[_c('i',{staticClass:\"far fa-plus-square fa-lg fa-2x\",staticStyle:{\"vertical-align\":\"top\"}}),_vm._v(\" \"),_c('input',{staticStyle:{\"visibility\":\"hidden\",\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"inputImage\",\"multiple\":\"\"},on:{\"change\":function($event){return _vm.chooseImage($event)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"p-2 border-top message form-control\",class:{ minimize: _vm.minimize },staticStyle:{\"max-height\":\"42px\",\"overflow-y\":\"auto\"},attrs:{\"contenteditable\":\"true\",\"id\":\"comment\"},on:{\"keyup\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.searchEmoji($event)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.sendMessage($event)},\"paste\":function($event){return _vm.pasteImage($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"input-group-append border\"},[_c('button',{staticClass:\"btn btn-primary m-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.emojiPicker = !_vm.emojiPicker;}}},[_c('img',{staticClass:\"emoji\",staticStyle:{\"height\":\"1.5em\"},attrs:{\"src\":\"https://twemoji.maxcdn.com/2/72x72/1f600.png\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger m-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.sendMessage($event);}}},[_c('i',{staticClass:\"fas fa-reply\"})])])])])]),_vm._v(\" \"),_c('UserList',{class:[_vm.isMobile ? 'p-0' : 'col-2 p-0']}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.emojiPicker),expression:\"emojiPicker\"}],staticClass:\"emoji-picker\"},[_c('Picker',{style:({\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tbottom: _vm.isMobile ? '68px' :'124px',\n\t\t\t\t\t\tright: _vm.isMobile ? '0' :'17%',\n\t\t\t\t\t\twidth: _vm.isMobile ? '100vw' : '50vw' ,\n\t\t\t\t\t\tzIndex: 300,\n\t\t\t\t\t}),attrs:{\"set\":'twitter',\"native\":false,\"emojiTooltip\":!_vm.isMobile,\"showPreview\":!_vm.isMobile},on:{\"select\":function($event){return _vm.selectEmoji($event);}}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"auto !important\",\"margin-top\":\"40vh !important\"}},[_c('div',{staticClass:\"loader rounded-circle\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ad22372\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GroupChat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ad22372\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GroupChat.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GroupChat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GroupChat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ad22372\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GroupChat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ad22372\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GroupChat.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}