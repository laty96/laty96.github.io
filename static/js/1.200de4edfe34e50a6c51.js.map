{"version":3,"sources":["webpack:///./src/modules/saleManage.js","webpack:///./src/models/ticket.model.js","webpack:///./src/models/order.model.js","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?a749","webpack:///./src/components/Home.vue"],"names":["saleManage","incomePerEmployee","employeeId","callBack","this","checkRequiredProperty","getWithOrderBy","incomePerStore","storeId","getItems","getAll","getCustomer","customerId","error","_this","that","setOrderBy","firebaseDB","collection","where","get","then","doc","docs","empty","noData","data","catch","err","getAllCustomers","getTicketStatus","ticketId","update","status","createItemWithDiscount","discount","itemId","discountType","type","discountValue","value","createComboDeal","combo","_len","arguments","length","item","Array","_key","cb","ComboModel","concat","create","updateBill","billId","a","_this2","i","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","console","log","add","id","_this3","orderBy","forEach","push","field","_this4","minTime","maxTime","u","Ticket","classCallCheck_default","randomID","order_id","items","is_confirmed","created_time","Date","now","completed_time","Order","name","employee_id","store_id","is_done","Home","limit","cart","methods","count","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","return","quantity","remove","index","splice","buy","order_model","b","ticket_model","c","bill_model","orderid","ticketid","setFirebaseDB","firebase_config","setCollection","more","getItem","getWithConditionRealTime","op","created","components_Home","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","_l","key","_s","price","stock","discount_percent","discount_value","on","click","$event","scope","directives","rawName","expression","min","max","domProps","input","target","composing","$set","data-toggle","href","role","aria-expanded","aria-controls","final_price","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.200de4edfe34e50a6c51.js","sourcesContent":["// Usage:\r\n// var db = firebase.firestore()\r\n// saleManage.setFirebaseDB(db).setCollection('customers').getCustomer(id, doc => doc)\r\n// or\r\n// saleManage.setFirebaseDB(db).setCollection('customers').setOrderBy('_id')\r\n// saleManage.getAllCustomers(doc => console.log(doc))\r\n\r\n// item1[]; item2[]\r\n// saleManage.setFirebaseDB(db).setCollection('combo')\r\n// saleManage.createComboDeal((doc) => {}, item1, item2, ...)\r\nimport u from './util'\r\n\r\nvar saleManage = {\r\n  incomePerEmployee: function (employeeId, callBack) { // doanh thu theo cá nhân\r\n    if (this.checkRequiredProperty()) return;\r\n    this.getWithOrderBy('employeeId', employeeId, callBack);\r\n    return this;\r\n  },\r\n  incomePerStore: function (storeId, callBack) { // doanh thu theo cửa hàng\r\n    if (this.checkRequiredProperty()) return;\r\n    this.getWithOrderBy('storeId', storeId, callBack);\r\n    return this;\r\n  },\r\n  getItems: function (callBack) {\r\n    if (this.checkRequiredProperty()) return;\r\n    this.getAll(callBack);\r\n    return this;\r\n  },\r\n  getCustomer: function (customerId, callBack, error) { // \r\n    let that = this;\r\n    this.setOrderBy('customerId');\r\n    if (this.checkRequiredProperty()) return;\r\n    this.firebaseDB\r\n      .collection(this.collection)\r\n      .where(\"customerId\", \"==\", customerId)\r\n      .get()\r\n      .then(function (doc) {\r\n        if (!docs.empty) {\r\n          callBack(doc[0].data());\r\n        } else {\r\n          error(doc)\r\n          that.noData()\r\n        }\r\n      })\r\n      .catch(err => {\r\n        error(err);\r\n        this.error(err)\r\n      });\r\n    return this;\r\n  },\r\n  getAllCustomers: function (callBack) {\r\n    if (this.checkRequiredProperty()) return;\r\n    this.getAll(callBack);\r\n    return this;\r\n  },\r\n  getTicketStatus: function (ticketId, callBack) {\r\n    // get ticket status from api\r\n    // update ticket status \r\n    this.firebaseDB.collection(this.collection).doc(ticketId).update({\r\n      status: null\r\n    })\r\n  },\r\n  createItemWithDiscount: function (discount, itemId) {\r\n    this.firebaseDB.collection(this.collection).doc(itemId).update({\r\n      discountType: discount.type,\r\n      discountValue: discount.value\r\n    })\r\n  },\r\n  createComboDeal: function (callBack, combo, ...item) {\r\n    // model combo\r\n    let cb = new ComboModel(combo, ...item)\r\n    this.create(cb, callBack);\r\n  },\r\n  updateBill: function (billId, data) { // cập nhật hóa đơn\r\n    this.firebaseDB.collection(this.collection).doc(billId).update(data);\r\n  },\r\n  // utilities\r\n  // lập đơn hàng, phiếu xuất/nhập, báo cáo theo model\r\n  create: function (a, callBack, error) {\r\n    let i = Object.assign({}, a);\r\n    console.log(i)\r\n    this.firebaseDB.collection(this.collection).add(i).then(doc => callBack(doc.id)).catch(err => {\r\n      error(err);\r\n      this.error(err);\r\n    })\r\n    return this;\r\n  },\r\n  getAll: function (callBack) {\r\n    this.firebaseDB\r\n      .collection(this.collection)\r\n      .orderBy(this.orderBy)\r\n      .get()\r\n      .then(function (docs) {\r\n        if (!docs.empty) {\r\n          let a = [];\r\n          docs.forEach(doc => {\r\n            a.push(doc.data());\r\n          });\r\n          callBack(a);\r\n        }\r\n      })\r\n      .catch(err => this.error(err));\r\n    return this;\r\n  },\r\n  getWithOrderBy: function (field, id, callBack) {\r\n    let that = this;\r\n    if (this.minTime && this.maxTime) {\r\n      this.firebaseDB\r\n        .collection(this.collection)\r\n        .where(field, \"==\", id)\r\n        .where('createdTime', '>', this.minTime)\r\n        .where('createdTime', '<', this.maxTime)\r\n        .orderBy(this.orderBy)\r\n        .get()\r\n        .then(function (docs) {\r\n          if (!docs.empty) {\r\n            let a = [];\r\n            docs.forEach(doc => {\r\n              a.push(doc.data());\r\n            });\r\n            callBack(a);\r\n          } else {\r\n            that.noData();\r\n          }\r\n        })\r\n        .catch(err => this.error(err));\r\n    } else {\r\n      this.firebaseDB\r\n        .collection(this.collection)\r\n        .where(field, \"==\", id)\r\n        .orderBy(this.orderBy)\r\n        .get()\r\n        .then(function (docs) {\r\n          if (!docs.empty) {\r\n            let a = [];\r\n            docs.forEach(doc => {\r\n              a.push(doc.data());\r\n            });\r\n            callBack(a);\r\n          } else {\r\n            that.noData()\r\n          }\r\n        })\r\n        .catch(err => this.error(err));\r\n    }\r\n  },\r\n  ...u\r\n};\r\n\r\nexport default saleManage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/saleManage.js","import {randomID} from '../utilities';\n\nclass Ticket {\n  constructor(a) {\n    this.id = randomID();\n    this.order_id = a.order_id;\n    this.items = a.items;\n    this.is_confirmed = false;\n    this.created_time = Date.now();\n    this.completed_time  = '';\n    this.type = a.type;\n  }\n}\nexport default Ticket;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ticket.model.js","import {randomID} from '../utilities';\n\nclass Order {\n    constructor(a) {\n        this.id = randomID()\n        this.name = a.name || 'user';\n        this.items = a.items;\n        this.employee_id = a.employee_id || '';\n        this.store_id = a.store_id || '';\n        this.created_time = Date.now();\n        this.completed_time = '';\n        this.is_done = false;\n    }\n}\n\nexport default Order;\n\n\n// WEBPACK FOOTER //\n// ./src/models/order.model.js","<template>\n  <div class=\"container\">\n    <ul class=\"nav nav-tabs\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link active\" data-toggle=\"tab\" href=\"#home\">Home</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" data-toggle=\"tab\" href=\"#menu1\">Cart</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" data-toggle=\"tab\" href=\"#menu2\">Combo</a>\n      </li>\n    </ul>\n\n    <!-- Tab panes -->\n    <div class=\"tab-content mt-1\">\n      <div id=\"home\" class=\"container tab-pane active\">\n        <div class=\"row d-flex justify-content-around\">\n          <div class=\"card col-md-3 m-2\" v-for=\"(item, index) in items\" :key=\"index\">\n            <div class=\"card-body\">\n              <h4 class=\"card-title\">{{item.name}}</h4>\n              <p>Price: {{item.price}}</p>\n              <p>Stock: {{item.stock}}</p>\n              <p>Discount percent: {{item.discount_percent}}%</p>\n              <p>Discount value: {{item.discount_value}}</p>\n              <button class=\"btn\" @click=\"add(item)\">Add to cart</button>\n            </div>\n          </div>\n        </div>\n        <button class=\"btn\" @click=\"more()\">More</button>\n      </div>\n      <div id=\"menu1\" class=\"container tab-pane\">\n        <table class=\"table\">\n          <thead class=\"thead-dark\">\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\">#</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in cart\" :key=\"index\">\n              <th scope=\"row\">{{index + 1}}</th>\n              <td>{{item.name}}</td>\n              <td>{{item.price}}</td>\n              <td>\n                <input type=\"number\" v-model=\"item.quantity\" min=\"1\" :max=\"item.stock\">\n              </td>\n              <td>\n                <button class=\"btn\" @click=\"remove(index)\">&times;</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button class=\"btn\" @click=\"buy()\">Buy</button>\n      </div>\n      <div id=\"menu2\" class=\"container tab-pane\">\n        <div class=\"row d-flex justify-content-around\">\n          <div class=\"card col-md-3 m-2\" v-for=\"(item, index) in combo\" :key=\"index\">\n            <div class=\"card-body\">\n              <h4 class=\"card-title\">{{item.name}}</h4>\n              <p>Price: {{item.price}}</p>\n              <p>Stock: {{item.stock}}</p>\n              <p>Discount percent: {{item.discount_percent}}%</p>\n              <p>Discount value: {{item.discount_value}}</p>\n              <p><a class=\"btn btn-primary\" data-toggle=\"collapse\" :href=\"'#'+item.id\" role=\"button\" aria-expanded=\"false\" :aria-controls=\"item.id\">\n                Items:\n              </a> </p>\n              <div class=\"collapse\" :id=\"item.id\">\n                <div class=\"card card-body m-1\" v-for=\"(item, index) in item.items\" :key=\"index\">\n                  <p>Name: {{item.name}}</p>\n                  <p>Price: {{item.price}}</p>\n                  <p>Discount percent: {{item.discount_percent}}%</p>\n                  <p>Discount value: {{item.discount_value}}</p>\n                  <p>Stock: {{item.stock}}</p>\n                  <p>Final price: {{item.final_price}}</p>\n                </div>\n              </div>\n              <button class=\"btn\" @click=\"add(item)\">Add to cart</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TicketModel from \"../models/ticket.model\";\nimport OrderModel from \"../models/order.model\";\n\nimport BillModel from \"../models/bill.model\";\n\nimport saleManage from \"../modules/saleManage\";\nimport db from \"../configs/firebase.config\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      items: [],\n      limit: 0,\n      collection: \"exportTickets\",\n      cart: [],\n      combo: [],\n    };\n  },\n  methods: {\n    add(item) {\n      let count = 0;\n      for (let i of this.cart) {\n        if (i.id == item.id) {\n          count++;\n        }\n      }\n      item.quantity = 1;\n      if (count == 0) this.cart.push(item);\n    },\n    remove(index) {\n      this.cart.splice(index, 1);\n    },\n    buy() {\n      let a = new OrderModel({\n        items: this.cart\n      });\n      let b = new TicketModel({\n        items: this.cart,\n        order_id: a.id,\n        type: 'export'\n      });\n      let c = new BillModel({\n        items: this.cart,\n        orderid: a.id,\n        ticketid: b.id,\n      })\n      saleManage.setFirebaseDB(db)\n      saleManage.setCollection(\"orders\")\n        .create(a, doc => {\n          console.log(doc);\n        });\n      saleManage\n        .setCollection(\"tickets\")\n        .create(b, doc => {\n          console.log(doc);\n        });\n      saleManage.setCollection('bills').create(c, doc => {\n        console.log(doc)\n      })\n      this.cart = []\n    },\n    more() {\n      this.limit += 10;\n      this.getItem();\n    },\n    getItem() {\n      saleManage\n        .setFirebaseDB(db)\n        .setCollection(\"items\")\n        .setOrderBy(\"created_time\")\n        .getWithConditionRealTime([{field: 'stock', op: '>', value: 0}], docs => {\n          this.items = docs;\n          console.log(docs);\n        });\n    }\n  },\n  created() {\n    this.getItem();\n    saleManage.setFirebaseDB(db).setCollection('combo').setOrderBy('created_time').getWithConditionRealTime([{field: 'stock', op: '>', value: 0}], doc => {\n      this.combo = doc\n      console.log(doc)\n    })\n  }\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"tab-content mt-1\"},[_c('div',{staticClass:\"container tab-pane active\",attrs:{\"id\":\"home\"}},[_c('div',{staticClass:\"row d-flex justify-content-around\"},_vm._l((_vm.items),function(item,index){return _c('div',{key:index,staticClass:\"card col-md-3 m-2\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',[_vm._v(\"Price: \"+_vm._s(item.price))]),_vm._v(\" \"),_c('p',[_vm._v(\"Stock: \"+_vm._s(item.stock))]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount percent: \"+_vm._s(item.discount_percent)+\"%\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount value: \"+_vm._s(item.discount_value))]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.add(item)}}},[_vm._v(\"Add to cart\")])])])})),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.more()}}},[_vm._v(\"More\")])]),_vm._v(\" \"),_c('div',{staticClass:\"container tab-pane\",attrs:{\"id\":\"menu1\"}},[_c('table',{staticClass:\"table\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.cart),function(item,index){return _c('tr',{key:index},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.price))]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":item.stock},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.remove(index)}}},[_vm._v(\"×\")])])])}))]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.buy()}}},[_vm._v(\"Buy\")])]),_vm._v(\" \"),_c('div',{staticClass:\"container tab-pane\",attrs:{\"id\":\"menu2\"}},[_c('div',{staticClass:\"row d-flex justify-content-around\"},_vm._l((_vm.combo),function(item,index){return _c('div',{key:index,staticClass:\"card col-md-3 m-2\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',[_vm._v(\"Price: \"+_vm._s(item.price))]),_vm._v(\" \"),_c('p',[_vm._v(\"Stock: \"+_vm._s(item.stock))]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount percent: \"+_vm._s(item.discount_percent)+\"%\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount value: \"+_vm._s(item.discount_value))]),_vm._v(\" \"),_c('p',[_c('a',{staticClass:\"btn btn-primary\",attrs:{\"data-toggle\":\"collapse\",\"href\":'#'+item.id,\"role\":\"button\",\"aria-expanded\":\"false\",\"aria-controls\":item.id}},[_vm._v(\"\\n              Items:\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":item.id}},_vm._l((item.items),function(item,index){return _c('div',{key:index,staticClass:\"card card-body m-1\"},[_c('p',[_vm._v(\"Name: \"+_vm._s(item.name))]),_vm._v(\" \"),_c('p',[_vm._v(\"Price: \"+_vm._s(item.price))]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount percent: \"+_vm._s(item.discount_percent)+\"%\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Discount value: \"+_vm._s(item.discount_value))]),_vm._v(\" \"),_c('p',[_vm._v(\"Stock: \"+_vm._s(item.stock))]),_vm._v(\" \"),_c('p',[_vm._v(\"Final price: \"+_vm._s(item.final_price))])])})),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.add(item)}}},[_vm._v(\"Add to cart\")])])])}))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link active\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#home\"}},[_vm._v(\"Home\")])]),_vm._v(\" \"),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#menu1\"}},[_vm._v(\"Cart\")])]),_vm._v(\" \"),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#menu2\"}},[_vm._v(\"Combo\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Price\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Quantity\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f1e8d334\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f1e8d334\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f1e8d334\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}