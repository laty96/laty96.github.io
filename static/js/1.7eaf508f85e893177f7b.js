webpackJsonp([1],{CHSy:function(t,e){},o9cx:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),i=s("NYxO"),r=s("PJh5"),o=s.n(r),l=s("lHQJ"),d=s("Hvsy"),c=(s("Qfbh"),{name:"Profile",data:function(){return{profileBanner:"",profileIcon:"",files:{},moment:o.a,warning:"",isNew:!0}},computed:n()({},Object(i.c)({userInfo:function(t){return t.auth.userInfo}})),methods:{imageUpload:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.setImage(e[0],t.target.name)},dropImage:function(t,e){t.preventDefault();var s=t.dataTransfer.files;this.setImage(s[0],e),this.dragLeave(t)},dragEnter:function(t){t.target.classList.add("border-dark")},dragLeave:function(t){t.target.classList.remove("border-dark")},setImage:function(t,e){if(t.size>5242880)this.warning="Exceed size limit. Maximum 5mb image";else{this.warning="","image/jpeg"==t.type&&"image/png"==t.type||(this.warning="File type must be <code>.jpg</code> or <code>.png</code>");var s=new FileReader,a=this;s.onload=function(t){a[e]=t.target.result},s.readAsDataURL(t),this.files[e]=t}},saveSettings:function(){var t=this;this.userInfo._id&&(this.profileIcon&&this.$store.dispatch(l.G,{file:this.files.profileIcon,path:this.userInfo._id+"/profileIcon."+this.files.profileIcon.name.split(".").pop(),userId:this.userInfo.id,type:"imgURL"}),this.profileBanner&&this.$store.dispatch(l.G,{file:this.files.profileBanner,path:this.userInfo._id+"/profileBanner."+this.files.profileBanner.name.split(".").pop(),userId:this.userInfo.id,type:"profileBanner"}),this.userInfo.studentId&&this.userInfo.fullname&&this.userInfo.class&&this.isNew&&d.a.collection("users").doc(this.userInfo.id).update({studentId:this.userInfo.studentId,fullname:this.userInfo.fullname,class:this.userInfo.class}).then(function(e){console.log(e),t.isNew=!1}))}},beforeCreate:function(){console.log(Date.now())},mounted:function(){this.userInfo.studentId&&this.userInfo.fullname&&this.userInfo.class&&(this.isNew=!1),console.log(Date.now())}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"overflow-y":"auto",height:"calc(100vh - 56px)"}},[s("div",{staticClass:"container-fluid pt-5 bg-light mb-5 border-bottom",staticStyle:{"background-size":"cover"},style:{backgroundImage:"url("+(""!=t.profileBanner?t.profileBanner:t.userInfo.profileBanner)+")"}},[t.profileBanner?s("button",{staticClass:"close",on:{click:function(e){t.profileBanner=""}}},[t._v("\n\t\t\t×\n\t\t")]):t._e(),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:"home"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("p",{staticClass:"border border-warning text-center font-weight-bold"},[t.isNew?s("code",{staticClass:"text-warning"},[t._v("PLEASE PROVIDE YOUR STUDENT INFO")]):t._e()]),t._v(" "),s("code",{staticClass:"font-weight-bold"},[t._v("PROFILE INFORMATION")]),t._v(" "),s("hr"),t._v(" "),s("div",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"usr"}},[t._v("Username:")]),t._v(" "),s("small",{staticClass:"text-muted d-block"},[t._v("Name show on posts and comments")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.name,expression:"userInfo.name"}],staticClass:"form-control",attrs:{type:"text",id:"usr",disabled:""},domProps:{value:t.userInfo.name},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),s("small",{staticClass:"text-muted d-block"},[t._v("Email address use to login")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.email,expression:"userInfo.email"}],staticClass:"form-control",attrs:{type:"text",id:"email",disabled:""},domProps:{value:t.userInfo.email},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"desc"}},[t._v("Description:")]),t._v(" "),s("small",{staticClass:"text-muted d-block"},[t._v("Description about yourself")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.desc,expression:"userInfo.desc"}],staticClass:"form-control",attrs:{type:"text",id:"desc",rows:"5",placeholder:"Write something..."},domProps:{value:t.userInfo.desc},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"desc",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"studentId"}},[t._v("Student ID:")]),t._v(" "),t.isNew?s("small",{staticClass:"text-warning d-block"},[t._v("This field is required")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.studentId,expression:"userInfo.studentId"}],staticClass:"form-control",attrs:{type:"text",id:"studentId",disabled:!t.isNew},domProps:{value:t.userInfo.studentId},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"studentId",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"Fullname"}},[t._v("Fullname:")]),t._v(" "),t.isNew?s("small",{staticClass:"text-warning d-block"},[t._v("This field is required")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.fullname,expression:"userInfo.fullname"}],staticClass:"form-control",attrs:{type:"text",id:"Fullname",disabled:!t.isNew},domProps:{value:t.userInfo.fullname},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"fullname",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"department"}},[t._v("Class:")]),t._v(" "),t.isNew?s("small",{staticClass:"text-warning d-block"},[t._v("This field is required")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.class,expression:"userInfo.class"}],staticClass:"form-control",attrs:{type:"text",id:"department",disabled:!t.isNew},domProps:{value:t.userInfo.class},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"class",e.target.value)}}})])]),t._v(" "),s("code",{staticClass:"font-weight-bold"},[t._v("IMAGES")]),t._v(" "),s("hr"),t._v(" "),s("p",{staticClass:"strong"},[t._v("Avatar and banner (Maximum: 5mb)")]),t._v(" "),t.warning?s("h5",{staticClass:"text-danger",domProps:{innerHTML:t._s(t.warning)}}):t._e(),t._v(" "),s("div",{staticClass:"row"},[s("label",{staticClass:"bg-light rounded p-2 border col-md-3 m-2",attrs:{id:"avatarDropzone"},on:{drop:function(e){return e.preventDefault(),t.dropImage(e,"profileIcon")},dragover:function(t){t.preventDefault()},dragenter:function(e){return t.dragEnter(e)},dragleave:function(e){return t.dragLeave(e)}}},[s("div",{staticClass:"mx-auto",staticStyle:{width:"45px",margin:"0 auto"}},[s("svg",{attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("g",[s("polygon",{attrs:{fill:"inherit",opacity:"0",points:"0.610673352 20 20.625 20 20.625 0 0.610673352 0"}}),t._v(" "),s("path",{attrs:{d:"M17.451,9.14823765 C17.03,5.40791696 13.8555,2.5 10,2.5 C6.1445,2.5 2.97,5.40791696 2.549,9.14823765 C1.0455,9.84024195 0,11.3551568 0,13.1173944 C0,15.531665 1.959,17.4892627 4.375,17.4892627 L7.8125,17.4892627 L7.8125,12.8051181 L5,12.8051181 C4.8735,12.8051181 4.7595,12.7291725 4.7115,12.6122563 C4.6625,12.49534 4.6895,12.3614359 4.779,12.272 L9.779,7.2755791 C9.901,7.15366643 10.099,7.15366643 10.221,7.2755791 L15.187,12.2375247 C15.2665,12.2944839 15.3185,12.3874173 15.3185,12.4928418 C15.3185,12.6652183 15.1785,12.8051181 15.006,12.8051181 L15,12.8051181 L12.1875,12.8051181 L12.1875,17.4892627 L15.625,17.4892627 C18.041,17.4892627 20,15.531665 20,13.1173944 C20,11.3551568 18.954,9.84024195 17.451,9.14823765",fill:"inherit"}})])])]),t._v(" "),s("div",{staticClass:"small text-center px-3"},[t._v("\n\t\t\t\t\t\t\t\t\tDrag and Drop or Upload Avatar Image\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticStyle:{display:"none"}},[s("input",{attrs:{name:"profileIcon",type:"file",accept:"image/x-png,image/jpeg"},on:{change:function(e){return t.imageUpload(e)}}})])]),t._v(" "),s("label",{staticClass:"bg-light rounded p-2 border col-md-6 m-2",attrs:{id:"bannerDropzone",name:"profileBanner"},on:{drop:function(e){return e.preventDefault(),t.dropImage(e,"profileBanner")},dragover:function(t){t.preventDefault()},dragenter:function(e){return t.dragEnter(e)},dragleave:function(e){return t.dragLeave(e)}}},[s("div",{staticClass:"mx-auto",staticStyle:{width:"45px",margin:"0 auto"}},[s("svg",{attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[s("g",[s("polygon",{attrs:{fill:"inherit",opacity:"0",points:"0.610673352 20 20.625 20 20.625 0 0.610673352 0"}}),t._v(" "),s("path",{attrs:{d:"M17.451,9.14823765 C17.03,5.40791696 13.8555,2.5 10,2.5 C6.1445,2.5 2.97,5.40791696 2.549,9.14823765 C1.0455,9.84024195 0,11.3551568 0,13.1173944 C0,15.531665 1.959,17.4892627 4.375,17.4892627 L7.8125,17.4892627 L7.8125,12.8051181 L5,12.8051181 C4.8735,12.8051181 4.7595,12.7291725 4.7115,12.6122563 C4.6625,12.49534 4.6895,12.3614359 4.779,12.272 L9.779,7.2755791 C9.901,7.15366643 10.099,7.15366643 10.221,7.2755791 L15.187,12.2375247 C15.2665,12.2944839 15.3185,12.3874173 15.3185,12.4928418 C15.3185,12.6652183 15.1785,12.8051181 15.006,12.8051181 L15,12.8051181 L12.1875,12.8051181 L12.1875,17.4892627 L15.625,17.4892627 C18.041,17.4892627 20,15.531665 20,13.1173944 C20,11.3551568 18.954,9.84024195 17.451,9.14823765",fill:"inherit"}})])])]),t._v(" "),s("div",{staticClass:"small text-center"},[t._v("\n\t\t\t\t\t\t\t\t\tDrag and Drop or Upload Banner Image\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticStyle:{display:"none"}},[s("input",{attrs:{name:"profileBanner",type:"file",accept:"image/x-png,image/jpeg"},on:{change:function(e){return t.imageUpload(e)}}})])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex"},[s("button",{staticClass:"ml-auto btn btn-outline-primary",on:{click:function(e){return t.saveSettings()}}},[t._v("\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header bg-light border border-muted",staticStyle:{"background-size":"cover",height:"115px"},style:{backgroundImage:"url("+(""!=t.profileBanner?t.profileBanner:t.userInfo.profileBanner)+")"}},[t.profileBanner?s("button",{staticClass:"close bg-white",attrs:{title:"Undo banner"},on:{click:function(e){t.profileBanner=""}}},[t._v("\n\t\t\t\t\t\t\t\t\t×\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),s("div",{staticClass:"mt-4"},[t.profileIcon?s("img",{staticClass:"rounded profile-icon",staticStyle:{cursor:"pointer"},attrs:{src:t.profileIcon,alt:"newAva",title:"Undo avatar"},on:{click:function(e){t.profileIcon=""}}}):s("img",{staticClass:"rounded profile-icon",attrs:{src:t.userInfo.imgURL,alt:"ava"}})])]),t._v(" "),s("div",{staticClass:"card-body d-flex"},[s("h6",{staticClass:"mr-auto"},[s("code",[t._v("Username")]),t._v(" "),s("h6",{},[t._v(t._s(t.userInfo.name))])]),t._v(" "),s("h6",{},[s("code",[t._v("Join day")]),t._v(" "),s("h6",{},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.moment(t.userInfo.createdTime).format("LL"))+"\n\t\t\t\t\t\t\t\t\t")])])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane",attrs:{id:"menu1"}},[s("div",{staticClass:"row"},[s("div",[s("ul",{staticClass:"list-group list-group-flush"},t._l(t.userInfo.hideList,function(e){return s("li",{key:e,staticClass:"list-group-item"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])}),0)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("h3",{staticClass:"font-weight-bold"},[e("i",{staticClass:"fas fa-cogs"}),this._v(" User settings\n\t\t\t")]),this._v(" "),e("ul",{staticClass:"container nav nav-tabs font-weight-bold"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link border-0 active text-muted",attrs:{"data-toggle":"tab",href:"#home"}},[this._v("Profile")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link border-0 text-muted",attrs:{"data-toggle":"tab",href:"#menu1"}},[this._v("Block")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link border-0 text-muted",attrs:{"data-toggle":"tab",href:"#menu2"}},[this._v("Menu 2")])])])])}]};var f=s("VU/8")(c,u,!1,function(t){s("CHSy")},"data-v-04c24416",null);e.default=f.exports}});
//# sourceMappingURL=1.7eaf508f85e893177f7b.js.map