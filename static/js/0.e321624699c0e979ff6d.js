webpackJsonp([0],{MKsd:function(e,t){},Qfom:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),n=s.n(r),i=s("NYxO"),a={name:"SearchUserModal",props:["userInfo"],data:function(){return{userList:[],userIdList:[],timerId:null,typingInterval:500,username:"",searchedUserList:[],typingTimer:null}},computed:n()({},Object(i.b)(["getUserList"])),methods:{setTimer:function(){clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.searchUsername,this.typingInterval)},clearTimer:function(){clearTimeout(this.typingTimer)},searchUsername:function(){var e=this;""!=this.username&&void 0!=this.username&&null!=this.username&&(this.searchedUserList=this.getUserList.filter(function(t){return t.name.toLowerCase().indexOf(e.username.toLowerCase())>-1||t.email.indexOf(e.username.toLowerCase())>-1}),console.log(this.searchedUserList))},createConversation:function(e){this.$store.dispatch("CREATE_CONVERSATION",{u:e,userInfo:this.userInfo}),this.$store.dispatch("GET_CONVERSATION",this.userInfo.id+e.id),this.$emit("close")}},mounted:function(){$("#searchUserModal").bootstrapMaterialDesign(),""!=this.userInfo.name&&""!=!this.userInfo.email||this.$router.push("/login")}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"searchUserModal"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h2",[e._v("\n        Search user\n        "),s("button",{staticClass:"btn btn-flat btn-secondary float-right",on:{click:function(t){return e.$emit("close")}}},[e._v("Ã—")])])]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"bmd-label-floating",attrs:{for:"searchUsername"}},[e._v("Username")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"searchUsername",autocomplete:"off"},domProps:{value:e.username},on:{keyup:function(t){return e.setTimer()},keydown:function(t){return e.clearTimer()},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),s("span",{staticClass:"bmd-help"},[e._v("Search for username")])])]),e._v(" "),s("div",{staticClass:"card-footer",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[s("ul",{staticClass:"list-group user-list"},e._l(e.searchedUserList,function(t){return s("a",{key:t._id,staticClass:"list-group-item p-0",attrs:{href:"#"},on:{click:function(s){return e.createConversation(t)}}},[s("img",{staticClass:"user-image rounded-circle",attrs:{src:t.imgURL}}),e._v(" "),s("div",{staticClass:"bmd-list-group-col"},[s("h5",{staticClass:"list-group-item-heading"},[e._v(e._s(t.name))]),e._v(" "),s("p",{staticClass:"list-group-item-text m-0"},[e._v(e._s(t.email))])])])}),0)])])])},staticRenderFns:[]};var c=s("VU/8")(a,o,!1,function(e){s("MKsd")},"data-v-66c047d1",null).exports,u={name:"Homepage",computed:n()({},Object(i.c)({userInfo:function(e){return e.auth.userInfo},getUsername:function(e){return e.auth.userInfo.name}})),methods:{startConversation:function(){console.log(this.userInfo),this.$modal.show(c,{userInfo:this.userInfo},{height:"auto",width:"500px"},{"before-close":function(e){console.log("this will be called before the modal closes")}})},hide:function(){this.$modal.hide("view-post"),history.pushState(null,"","/")}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"container-fluid text-center",staticStyle:{top:"30vh",position:"relative"}},[s("h1",[e._v("Welcome, "+e._s(e.getUsername))]),e._v(" "),s("button",{staticClass:"btn btn-raised btn-info btn-lg",attrs:{type:"button"},on:{click:function(t){return e.startConversation()}}},[e._v("Start a conversation")])]),e._v(" "),s("modals-container")],1)},staticRenderFns:[]};var m=s("VU/8")(u,l,!1,function(e){s("RYSp")},null,null);t.default=m.exports},RYSp:function(e,t){}});
//# sourceMappingURL=0.e321624699c0e979ff6d.js.map