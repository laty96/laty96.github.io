webpackJsonp([2],{"0JZW":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("a1CX"),n=s("NYxO"),o=s("yp89"),a=s("/o5o"),r=s("lHQJ"),c={name:"UserPost",props:{userId:String,type:String},data:function(){return{posts:[],t:""}},computed:Object(n.c)({post:function(t){return t.userProfile.post},userLikedPost:function(t){return t.userProfile.likePost},userInfo:function(t){return t.auth.userInfo}}),watch:{$route:function(){this.t="posts"==this.type?r.q:r.o,this.$store.dispatch(this.t,this.userId)}},methods:{likePost:function(t,e){this.userInfo.email?this.$store.dispatch(r.t,{id:t.id,user:this.userInfo.email}):this.$router.push("/login")},trimTitle:function(t){return t.replace(/[^A-Z0-9]+/gi,"_")},sharePost:function(t){var e="https://4x2939pp80.codesandbox.io/%23/posts/"+t._id+"/"+this.trimTitle(t.title),s="https://4x2939pp80.codesandbox.io/#/posts/"+t._id+"/"+this.trimTitle(t.title);this.$modal.show("dialog",{title:"Share post",text:'<div class="input-group">\n\t\t\t\t\t\t\t\t\t<input type="text" value="'+s+'" id="sharedLink" class="form-control" readonly>\n\t\t\t\t\t\t\t\t\t<div class="input-group-append">\n\t\t\t\t\t\t\t\t\t\t<button class="btn btn-outline-secondary" onclick="(function(){\n\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById(\'sharedLink\').select();\n\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById(\'alert\').classList.remove(\'text-hide\');\n\t\t\t\t\t\t\t\t\t\t\tdocument.execCommand(\'copy\');\n\t\t\t\t\t\t\t\t\t\t})(); return false;"><i class="fas fa-copy"></i></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="alert alert-success my-1 p-1 text-center text-hide" id="alert">\n\t\t\t\t\t\t\t\t\tLink has been copied to clipboard\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t',buttons:[{title:"Copy link",handler:this.copyLink},{title:'<a id="shareTwitter" target="_blank" href="http://twitter.com/share?url='+e+'"><i class="fab fa-twitter fa-2x"></i></a>',handler:function(){document.getElementById("shareTwitter").click()}},{title:'<a id="shareFacebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u='+s+'"><i class="fab fa-facebook fa-2x"></i></a>',handler:function(){document.getElementById("shareFacebook").click()}},{title:"Close"}]})},copyLink:function(){clearTimeout(this.timeout);var t=document.getElementById("sharedLink"),e=document.getElementById("alert");t.select(),e.classList.remove("text-hide"),this.timeout=setTimeout(function(){e.classList.add("text-hide")},5e3),document.execCommand("copy"),document.getSelection().removeAllRanges()},show:function(t){this.$modal.show(a.a,{i:t,isMobile:o.e.any()},{height:"auto",width:o.e.any()?"100%":"80%",style:{"z-index":9e3},scrollable:!0},{closed:this.hide})},hide:function(){this.$modal.hide("view-post")},cvDate:o.b,checkLiked:function(t){return t.like.indexOf(this.userInfo.email)>=0}},beforeMount:function(){var t="posts"==this.type?r.q:r.o;console.log(t),this.$store.dispatch(t,this.userId)}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-3 col-md-9",attrs:{id:"post-view"}},[0==t.post.length?s("div",[t._v("\n\t\t\tNo post found!\n\t\t")]):t._l(t.post,function(e,i){return s("div",{key:e[i],staticClass:"card shadow post-view",on:{click:function(s){t.show(e)}}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(e.title)+"\n        ")]),t._v(" "),s("small",[t._v("Posted by ")]),s("small",{staticClass:"text-primary"},[t._v(t._s(e.owner))]),s("span",{staticClass:"badge badge-light"},[s("small",[t._v(t._s(t.cvDate(e.createdDate)))])]),t._v(" "),s("div",{staticClass:"btn-group btn-group-sm btn-block"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button"}},[s("i",{staticClass:"fas fa-comment"}),t._v(" "+t._s(e.comment.length>0?e.comment.length:"")+" "+t._s(e.comment.length>1?"Comments":"Comment"))]),t._v(" "),s("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(s){s.stopPropagation(),t.likePost(e,i)}}},[s("i",{staticClass:"fas fa-thumbs-up",class:{"text-primary":t.checkLiked(e)}}),t._v("  "+t._s(e.like.length>0?e.like.length:"")+" Like")]),t._v(" "),s("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(s){s.stopPropagation(),t.sharePost(e)}}},[s("i",{staticClass:"fas fa-share"}),t._v(" Share")])])])])}),t._v(" "),s("modal",{attrs:{name:"view-post"}}),t._v(" "),s("v-dialog")],2)},staticRenderFns:[]};var d={name:"UserPostView",props:{type:"",userId:""},components:{UserPost:s("VU/8")(c,l,!1,function(t){s("Y1sI")},null,null).exports,SideMenu:i.a}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row py-3"},[e("UserPost",{attrs:{userId:this.userId,type:this.type}}),this._v(" "),e("SideMenu")],1)])},staticRenderFns:[]};var h=s("VU/8")(d,u,!1,function(t){s("NEJW")},null,null);e.default=h.exports},NEJW:function(t,e){},Y1sI:function(t,e){}});
//# sourceMappingURL=2.5587a3f56a756b85b80d.js.map