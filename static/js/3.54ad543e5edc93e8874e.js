webpackJsonp([3],{XDdL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("r5kb"),i=a("N+h9"),n=a("Zrlr"),c=a.n(n),o=a("yp89"),l=function t(e){c()(this,t),this.id=Object(o.a)(),this.order_id=e.order_id,this.items=e.items,this.is_confirmed=!1,this.created_time=Date.now(),this.completed_time="",this.type=e.type},_=function t(e){c()(this,t),this.id=Object(o.a)(),this.name=e.name||"user",this.items=e.items,this.employee_id=e.employee_id||"",this.store_id=e.store_id||"",this.created_time=Date.now(),this.is_done=!1},r=a("9r0o"),d={name:"import",data:function(){return{items:[],bill:[],detail:""}},methods:{order:function(t){if(t.quantity){var e=new _({items:[t]}),a=new l({order_id:e.id,items:[t],type:"import"}),i=new r.a({orderid:e.id,ticketid:a.id,items:[t]});s.a.setCollection("ImportOrder").create(e,function(t){return console.log(t)}),s.a.setCollection("ImportTicket").create(a,function(t){return console.log(t)}),s.a.setCollection("ImportBill").create(i,function(t){return console.log(t)})}},fetchDetail:function(t){this.detail=t},checkout:function(t){s.a.setCollection("ImportBill").update(t,{is_done:!0,completed_time:Date.now()})},cancel:function(t){s.a.setCollection("ImportBill").update(t,{is_done:!1,completed_time:Date.now()})}},created:function(){var t=this;s.a.setFirebaseDB(i.a),s.a.setCollection("items").setOrderBy("created_time","desc").getAllRealTime(function(e){t.items=e}),s.a.setCollection("ImportBill").setOrderBy("created_time","desc").getAllRealTime(function(e){t.bill=e,console.log(e)})}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:"tab-content mt-1"},[a("div",{staticClass:"container tab-pane active",attrs:{id:"menu1"}},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.items,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.stock))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(a){a.target.composing||t.$set(e,"quantity",a.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn",on:{click:function(a){t.order(e)}}},[t._v("Order")])])])}))])]),t._v(" "),a("div",{staticClass:"container tab-pane",attrs:{id:"menu2"}},[a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",t._l(t.bill,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.items[0].name))]),t._v(" "),a("td",[t._v(t._s(e.total))]),t._v(" "),a("td",[t._v(t._s(new Date(e.completed_time).toLocaleDateString()))]),t._v(" "),a("td",[t._v(t._s(e.is_done?"Done":"Pending"))]),t._v(" "),a("td",[a("button",{staticClass:"btn",on:{click:function(a){t.fetchDetail(e)}}},[t._v("Detail")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(a){t.checkout(e._id)}}},[t._v("Checkout")]),t._v(" "),a("button",{staticClass:"btn",on:{click:function(a){t.cancel(e._id)}}},[t._v("Cancel")])])])}))]),t._v(" "),t.detail?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",[t._v("Bill ID: "+t._s(t.detail.id))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("p",[t._v("Name: "+t._s(t.detail.name))]),t._v(" "),a("p",[t._v("Date: "+t._s(t.detail.created_time))]),t._v(" "),a("p",[t._v("Employee: "+t._s(t.detail.employee_id))]),t._v(" "),a("p",[t._v("Status: "+t._s(t.detail.is_done?"Done":"Pending"))]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapseExample"}},t._l(t.detail.items,function(e,s){return a("div",{key:s,staticClass:"card card-body m-1"},[a("p",[t._v("ID: "+t._s(e.id))]),t._v(" "),a("p",[t._v("Name: "+t._s(e.name))]),t._v(" "),a("p",[t._v("Price: "+t._s(e.price))]),t._v(" "),a("p",[t._v("Discount percent: "+t._s(e.discount_percent)+"%")]),t._v(" "),a("p",[t._v("Discount value: "+t._s(e.discount_value))]),t._v(" "),a("p",[t._v("Quantity: "+t._s(e.quantity))]),t._v(" "),a("p",[t._v("Stock: "+t._s(e.stock))]),t._v(" "),a("p",[t._v("Added Time: "+t._s(e.created_time))]),t._v(" "),a("p",[t._v("Final price: "+t._s(e.final_price))])])}))])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#menu1"}},[this._v("Create")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu2"}},[this._v("Pay")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("ID")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Stock")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Quantity")]),t._v(" "),a("th",{attrs:{scope:"col"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("ID")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Total")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Completed time")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),a("th",{attrs:{scope:"col"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticClass:"btn btn-primary",attrs:{"data-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[this._v("\n                Items\n              ")])])}]};var m=a("VU/8")(d,v,!1,function(t){a("ihVH")},null,null);e.default=m.exports},ihVH:function(t,e){}});
//# sourceMappingURL=3.54ad543e5edc93e8874e.js.map